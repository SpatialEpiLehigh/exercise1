<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eric Delmelle">
<meta name="dcterms.date" content="2026-01-01">

<title>Exercise 1: Geocoding Exercise: Philadelphia Homicides 2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="ex1_files/libs/clipboard/clipboard.min.js"></script>
<script src="ex1_files/libs/quarto-html/quarto.js"></script>
<script src="ex1_files/libs/quarto-html/popper.min.js"></script>
<script src="ex1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ex1_files/libs/quarto-html/anchor.min.js"></script>
<link href="ex1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ex1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ex1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ex1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ex1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="ex1_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="ex1_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="ex1_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="ex1_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="ex1_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="ex1_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="ex1_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="ex1_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="ex1_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="ex1_files/libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="ex1_files/libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="ex1_files/libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<link href="ex1_files/libs/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet">
<script src="ex1_files/libs/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script>
<script src="ex1_files/libs/leaflet-minimap-3.3.1/Minimap-binding.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exercise 1: Geocoding Exercise: Philadelphia Homicides 2025</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Eric Delmelle </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 1, 2026</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<p>By the end of this exercise, you will be able to:</p>
<ol type="1">
<li>Geocode a set of addresses using the Census Bureau geocoder</li>
<li>Calculate and interpret geocoding match rates</li>
<li>Identify and analyse failed geocodes</li>
<li>Create interactive maps to visualise spatial and temporal patterns</li>
<li>Understand how geocoding quality affects downstream spatial analysis</li>
<li>Apply the full geocoding-to-visualisation workflow independently on a new dataset of your choosing</li>
</ol>
</section>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>This exercise uses criminal homicides that occurred in Philadelphia during 2025. The dataset includes incident details and address information, but <strong>coordinates have been removed</strong>. You must geocode these addresses and analyze the spatial and temporal patterns.</p>
<hr>
</section>
</section>
<section id="setup" class="level1">
<h1>Setup</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.5.2     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Set theme for plots</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="part-1-data-exploration" class="level1">
<h1>Part 1: Data Exploration</h1>
<section id="task-1.1-load-the-data" class="level2">
<h2 class="anchored" data-anchor-id="task-1.1-load-the-data">Task 1.1: Load the Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the homicide dataset and parse the date column once</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>homicides <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"philadelphia_homicides_2025.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dispatch_date =</span> <span class="fu">mdy</span>(dispatch_date))</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the structure</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(homicides)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 222
Columns: 18
$ the_geom             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ cartodb_id           &lt;dbl&gt; 127508, 127509, 127510, 127511, 127512, 127513, 1…
$ the_geom_webmercator &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ objectid             &lt;dbl&gt; 36297680, 36297681, 36297682, 36297683, 36297684,…
$ dc_dist              &lt;chr&gt; "08", "12", "09", "12", "15", "14", "15", "15", "…
$ psa                  &lt;dbl&gt; 2, 2, 1, 1, 1, 3, 1, 1, 4, 1, 1, 3, 2, 3, 3, 1, 3…
$ dispatch_date_time   &lt;dttm&gt; 2025-05-05 04:00:00, 2025-06-18 04:00:00, 2025-0…
$ dispatch_date        &lt;date&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ dispatch_time        &lt;time&gt; 00:00:00, 00:00:00, 00:00:00, 00:00:00, 00:00:00…
$ hour                 &lt;dbl&gt; 10, 3, 22, 15, 3, 1, 10, 4, 7, 17, 9, 16, 7, 11, …
$ dc_key               &lt;dbl&gt; 202508018481, 202512026710, 202509062283, 2025121…
$ location_block       &lt;chr&gt; "2800 BLOCK NORCROSS ST", "200 BLOCK S CAMAC ST",…
$ ucr_general          &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 100,…
$ text_general_code    &lt;chr&gt; "Homicide - Criminal", "Homicide - Criminal", "Ho…
$ point_x              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ point_y              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ lat                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ lng                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display first 10 rows</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(homicides, <span class="dv">10</span>), <span class="at">caption =</span> <span class="st">"First 10 homicide incidents"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>First 10 homicide incidents</caption>
<colgroup>
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 10%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 1%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 6%">
<col style="width: 11%">
<col style="width: 5%">
<col style="width: 9%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 1%">
<col style="width: 1%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">the_geom</th>
<th style="text-align: right;">cartodb_id</th>
<th style="text-align: left;">the_geom_webmercator</th>
<th style="text-align: right;">objectid</th>
<th style="text-align: left;">dc_dist</th>
<th style="text-align: right;">psa</th>
<th style="text-align: left;">dispatch_date_time</th>
<th style="text-align: left;">dispatch_date</th>
<th style="text-align: left;">dispatch_time</th>
<th style="text-align: right;">hour</th>
<th style="text-align: right;">dc_key</th>
<th style="text-align: left;">location_block</th>
<th style="text-align: right;">ucr_general</th>
<th style="text-align: left;">text_general_code</th>
<th style="text-align: right;">point_x</th>
<th style="text-align: right;">point_y</th>
<th style="text-align: right;">lat</th>
<th style="text-align: right;">lng</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127508</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297680</td>
<td style="text-align: left;">08</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">2025-05-05 04:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">202508018481</td>
<td style="text-align: left;">2800 BLOCK NORCROSS ST</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127509</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297681</td>
<td style="text-align: left;">12</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">2025-06-18 04:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">202512026710</td>
<td style="text-align: left;">200 BLOCK S CAMAC ST</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127510</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297682</td>
<td style="text-align: left;">09</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2025-05-26 04:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">202509062283</td>
<td style="text-align: left;">800 BLOCK LEMON HILL</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127511</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297683</td>
<td style="text-align: left;">12</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2025-12-05 05:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">202512106610</td>
<td style="text-align: left;">2600 BLOCK MUHFIELD ST</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127512</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297684</td>
<td style="text-align: left;">15</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2025-04-05 04:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">202515028892</td>
<td style="text-align: left;">4400 BLOCK FRANKFORD A</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127513</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297685</td>
<td style="text-align: left;">14</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">2025-09-17 04:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">202514067755</td>
<td style="text-align: left;">200 BLOCK W RITTENHOUSE</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127514</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297686</td>
<td style="text-align: left;">15</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2025-01-02 05:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">202515000310</td>
<td style="text-align: left;">1800 BLOCK WAKELNG ST</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127515</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297687</td>
<td style="text-align: left;">15</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2025-06-13 04:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">202515054256</td>
<td style="text-align: left;">4100 BLOCK FRANKFORD AV</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127516</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297688</td>
<td style="text-align: left;">14</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">2025-10-28 04:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">202514085742</td>
<td style="text-align: left;">1500 BLOCK WADSWORTH ST</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">127517</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">36297689</td>
<td style="text-align: left;">24</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2025-01-14 05:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00:00:00</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">202524004024</td>
<td style="text-align: left;">3300 BLOCK “H” ST</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">Homicide - Criminal</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Question:</strong> How many homicide incidents are in the dataset?</p>
<p><strong>ANSWER:</strong> There are <strong>222</strong> homicide incidents in the 2025 Philadelphia dataset.</p>
</section>
<section id="explore-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="explore-the-dataset">Explore the dataset</h2>
<section id="temporal-patterns-by-hour-of-day" class="level3">
<h3 class="anchored" data-anchor-id="temporal-patterns-by-hour-of-day">Temporal Patterns: By Hour of Day</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by hour (0-23 format)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>hourly_counts <span class="ot">&lt;-</span> homicides <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(hour, <span class="at">name =</span> <span class="st">"homicides"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(hour)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create bar plot</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hourly_counts, <span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> homicides)) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> homicides), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">23</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Philadelphia Homicides by Hour of Day (2025)"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Total homicides:"</span>, <span class="fu">sum</span>(hourly_counts<span class="sc">$</span>homicides)),</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Hour (0 = midnight, 23 = 11pm)"</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Homicides"</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="fu">max</span>(hourly_counts<span class="sc">$</span>homicides) <span class="sc">*</span> <span class="fl">1.15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ex1_files/figure-html/hourly-viz-1.png" class="img-fluid" width="960"></p>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group into time periods for summary</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>hourly_summary <span class="ot">&lt;-</span> hourly_counts <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_period =</span> <span class="fu">case_when</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"Late Night (12am-6am)"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"Morning (6am-12pm)"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">12</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Afternoon (12pm-6pm)"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">18</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">24</span> <span class="sc">~</span> <span class="st">"Evening (6pm-12am)"</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(time_period) <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">homicides =</span> <span class="fu">sum</span>(homicides)) <span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> <span class="fu">round</span>(homicides <span class="sc">/</span> <span class="fu">sum</span>(homicides) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(hourly_summary,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Homicides by Time Period"</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Time Period"</span>, <span class="st">"Homicides"</span>, <span class="st">"Percentage"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Homicides by Time Period</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Time Period</th>
<th style="text-align: right;">Homicides</th>
<th style="text-align: right;">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afternoon (12pm-6pm)</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">18.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Evening (6pm-12am)</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">35.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Late Night (12am-6am)</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">28.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Morning (6am-12pm)</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">18.0</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="part-2-geocoding" class="level1">
<h1>Part 2: Geocoding</h1>
<p>Before you geocode the homicide dataset, work through the short example below. It uses two well-known addresses so you can check the output against a map and get comfortable with how <code>geocode()</code> works.</p>
<section id="warm-up-geocoding-two-addresses" class="level2">
<h2 class="anchored" data-anchor-id="warm-up-geocoding-two-addresses">Warm-Up: Geocoding Two Addresses</h2>
<section id="single-line-input" class="level3">
<h3 class="anchored" data-anchor-id="single-line-input">Single-line input</h3>
<p>The simplest way to call <code>geocode()</code> is to pass every address as one string (street + city + state).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Two well-known addresses as single strings</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>address_single <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">singlelineaddress =</span> <span class="fu">c</span>(</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"11 Wall St, New York, NY"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"600 Peachtree Street NE, Atlanta, GA"</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Geocode using the Census Bureau</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>census_single <span class="ot">&lt;-</span> address_single <span class="sc">%&gt;%</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geocode</span>(<span class="at">address =</span> singlelineaddress, <span class="at">method =</span> <span class="st">"census"</span>, <span class="at">verbose =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Number of Unique Addresses: 2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Executing batch geocoding...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Batch limit: 10,000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Passing 2 addresses to the US Census batch geocoder</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Querying API URL: https://geocoding.geo.census.gov/geocoder/locations/addressbatch</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Passing the following parameters to the API:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>format : "json"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>benchmark : "Public_AR_Current"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>vintage : "Current_Current"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Query completed in: 0.3 seconds</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect the result</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>census_single</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  singlelineaddress                      lat  long
  &lt;chr&gt;                                &lt;dbl&gt; &lt;dbl&gt;
1 11 Wall St, New York, NY              40.7 -74.0
2 600 Peachtree Street NE, Atlanta, GA  33.8 -84.4</code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="task-2.1-geocode-with-census-bureau" class="level2">
<h2 class="anchored" data-anchor-id="task-2.1-geocode-with-census-bureau">Task 2.1: Geocode with Census Bureau</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Geocode using Census Bureau</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Census geocoder is slow and rate-limited</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>homicides_census <span class="ot">&lt;-</span> homicides <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_address =</span> <span class="fu">paste</span>(location_block, <span class="st">"Philadelphia, PA"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geocode</span>(</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">address =</span> full_address,</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"census"</span>,</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> latitude,</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">long =</span> longitude,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose =</span> <span class="cn">TRUE</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Number of Unique Addresses: 209</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Executing batch geocoding...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Batch limit: 10,000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Passing 209 addresses to the US Census batch geocoder</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Querying API URL: https://geocoding.geo.census.gov/geocoder/locations/addressbatch</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Passing the following parameters to the API:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>format : "json"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>benchmark : "Public_AR_Current"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>vintage : "Current_Current"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Query completed in: 1.1 seconds</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check what was added</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Columns added by geocoding:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Columns added by geocoding:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>new_cols <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">colnames</span>(homicides_census), <span class="fu">colnames</span>(homicides))</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(new_cols, <span class="at">collapse =</span> <span class="st">", "</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>full_address, latitude, longitude </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick success rate check</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"</span><span class="sc">\n</span><span class="st">Geocoding success rate:"</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(<span class="sc">!</span><span class="fu">is.na</span>(homicides_census<span class="sc">$</span>latitude)) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Geocoding success rate: 91.44144 %</code></pre>
</div>
</div>
<p><strong>Question:</strong> What columns were added by the geocoding process?</p>
<p><strong>ANSWER:</strong> The <code>geocode()</code> function adds two columns: <strong><code>latitude</code></strong> and <strong><code>longitude</code></strong>, named by the <code>lat =</code> and <code>long =</code> arguments in the call above.</p>
<hr>
</section>
<section id="task-2.2-calculate-match-rate" class="level2">
<h2 class="anchored" data-anchor-id="task-2.2-calculate-match-rate">Task 2.2: Calculate Match Rate</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate match rate</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>match_rate_census <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="sc">!</span><span class="fu">is.na</span>(homicides_census<span class="sc">$</span>latitude)) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>geocoded_count <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(homicides_census<span class="sc">$</span>latitude))</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>failed_count <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(homicides_census<span class="sc">$</span>latitude))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== CENSUS GEOCODER RESULTS ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== CENSUS GEOCODER RESULTS ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total addresses:"</span>, <span class="fu">nrow</span>(homicides_census), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total addresses: 222 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Successfully geocoded:"</span>, geocoded_count, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Successfully geocoded: 203 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Failed to geocode:"</span>, failed_count, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Failed to geocode: 19 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Match rate:"</span>, <span class="fu">round</span>(match_rate_census, <span class="dv">1</span>), <span class="st">"%</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Match rate: 91.4 %</code></pre>
</div>
</div>
<p><strong>Question:</strong> What is your geocoding match rate with the Census Bureau geocoder?</p>
<p><strong>ANSWER:</strong> The match rate is <strong>91.4%</strong>.</p>
<p><strong>NOTE:</strong> A typical match rate for US addresses ranges from 85-98%. Block-level addresses (like “2800 BLOCK PROSPECT ST”) may have lower match rates than exact addresses because: - The geocoder must interpolate along the street segment - Some street segments may be missing from TIGER files - Block-level addresses are inherently less precise</p>
<hr>
</section>
<section id="task-2.3-examine-failed-geocodes" class="level2">
<h2 class="anchored" data-anchor-id="task-2.3-examine-failed-geocodes">Task 2.3: Examine Failed Geocodes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>failed_census <span class="ot">&lt;-</span> homicides_census <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(latitude)) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(objectid, dispatch_date, location_block, dc_key)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(failed_census, <span class="dv">10</span>),</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Failed Geocodes (first 10)"</span>,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Object ID"</span>, <span class="st">"Date"</span>, <span class="st">"Address"</span>, <span class="st">"DC Key"</span>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Failed Geocodes (first 10)</caption>
<thead>
<tr class="header">
<th style="text-align: right;">Object ID</th>
<th style="text-align: left;">Date</th>
<th style="text-align: left;">Address</th>
<th style="text-align: right;">DC Key</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">36297680</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2800 BLOCK NORCROSS ST</td>
<td style="text-align: right;">202508018481</td>
</tr>
<tr class="even">
<td style="text-align: right;">36297682</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">800 BLOCK LEMON HILL</td>
<td style="text-align: right;">202509062283</td>
</tr>
<tr class="odd">
<td style="text-align: right;">36297683</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2600 BLOCK MUHFIELD ST</td>
<td style="text-align: right;">202512106610</td>
</tr>
<tr class="even">
<td style="text-align: right;">36297685</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">200 BLOCK W RITTENHOUSE</td>
<td style="text-align: right;">202514067755</td>
</tr>
<tr class="odd">
<td style="text-align: right;">36297688</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">1500 BLOCK WADSWORTH ST</td>
<td style="text-align: right;">202514085742</td>
</tr>
<tr class="even">
<td style="text-align: right;">36297693</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">300 BLOCK MARTHA ST</td>
<td style="text-align: right;">202524087954</td>
</tr>
<tr class="odd">
<td style="text-align: right;">36297694</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">4900 BLOCK STENETON AV</td>
<td style="text-align: right;">202535090617</td>
</tr>
<tr class="even">
<td style="text-align: right;">36297696</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">3700 BLOCK W STERNER ST</td>
<td style="text-align: right;">202539001193</td>
</tr>
<tr class="odd">
<td style="text-align: right;">36297697</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">KELLY MIDVALE AV</td>
<td style="text-align: right;">202539008438</td>
</tr>
<tr class="even">
<td style="text-align: right;">36298198</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2700 BLOCK MANCHESTER ST</td>
<td style="text-align: right;">202508037939</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(failed_census, <span class="st">"failed_geocodes_census.csv"</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Saved"</span>, <span class="fu">nrow</span>(failed_census), <span class="st">"failed addresses to: failed_geocodes_census.csv</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Saved 19 failed addresses to: failed_geocodes_census.csv</code></pre>
</div>
</div>
<p><strong>Question:</strong> List 3-5 examples of addresses that failed to geocode. What patterns do you notice?</p>
<p><strong>ANSWER:</strong> Examples of failed addresses:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">nrow</span>(failed_census) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  failed_census <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(location_block) <span class="sc">%&gt;%</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"All addresses geocoded successfully!"</span>)</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2800 BLOCK NORCROSS ST
800 BLOCK LEMON HILL
2600 BLOCK MUHFIELD ST
200 BLOCK W RITTENHOUSE
1500 BLOCK WADSWORTH ST</code></pre>
</div>
</div>
<p><strong>NOTE:</strong> Common patterns in failed geocodes include: - Incomplete street names (e.g., “N” instead of “NORTH”) - Non-standard abbreviations (e.g., “BLVD” vs “BOULEVARD”) - Missing street segments in the TIGER reference database - Intersections rather than specific addresses (e.g., “15TH ST &amp; WALNUT ST”) - Misspellings or unusual street names</p>
<hr>
</section>
</section>
<section id="part-3-spatial-analysis-and-visualization" class="level1">
<h1>Part 3: Spatial Analysis and Visualization</h1>
<section id="task-3.1-create-spatial-objects" class="level2">
<h2 class="anchored" data-anchor-id="task-3.1-create-spatial-objects">Task 3.1: Create Spatial Objects</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use Census geocoding results; drop cases that failed</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>homicides_sf <span class="ot">&lt;-</span> homicides_census <span class="sc">%&gt;%</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(latitude) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(longitude)) <span class="sc">%&gt;%</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude"</span>, <span class="st">"latitude"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)  <span class="co"># WGS84</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Successfully created spatial object with"</span>, <span class="fu">nrow</span>(homicides_sf), <span class="st">"homicides</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Successfully created spatial object with 203 homicides</code></pre>
</div>
</div>
<p><strong>Question:</strong> How many homicides were successfully geocoded and included in your spatial object?</p>
<p><strong>ANSWER:</strong> <strong>203</strong> homicides were successfully geocoded and converted to a spatial object.</p>
<p><strong>NOTE:</strong> This represents 91.4% of the original 222 homicides. The missing 19 cases (8.6%) could not be mapped due to geocoding failure. If these failures are spatially clustered, our analysis will be biased.</p>
<hr>
</section>
<section id="task-3.2-static-map" class="level2">
<h2 class="anchored" data-anchor-id="task-3.2-static-map">Task 3.2: Static Map</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up plot parameters</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>))</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get bounding box</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>bbox <span class="ot">&lt;-</span> <span class="fu">st_bbox</span>(homicides_sf)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(homicides_sf),</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="fu">alpha</span>(<span class="st">"red"</span>, <span class="fl">0.6</span>),</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.8</span>,</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Philadelphia Homicides 2025"</span>,</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Longitude"</span>,</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Latitude"</span>,</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">axes =</span> <span class="cn">TRUE</span>)</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add grid</span></span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Add count</span></span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(bbox[<span class="st">"xmin"</span>], bbox[<span class="st">"ymax"</span>], </span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>     <span class="fu">paste</span>(<span class="st">"n ="</span>, <span class="fu">nrow</span>(homicides_sf)), </span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">pos =</span> <span class="dv">4</span>, <span class="at">cex =</span> <span class="fl">0.9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ex1_files/figure-html/static-map-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p><strong>Question:</strong> Based on the static map, do homicides appear to be randomly distributed across Philadelphia or are there apparent clusters?</p>
<p><strong>ANSWER:</strong> Homicides appear to be <strong>spatially clustered</strong> rather than randomly distributed. Visual inspection suggests: - Higher concentration in certain areas of the city - Some areas with very few or no homicides - Possible clustering in what appears to be central/north Philadelphia</p>
<p><strong>NOTE:</strong> This visual assessment should be confirmed with formal statistical tests (e.g., Moran's I, Ripley's K-function, or spatial scan statistics). The apparent clustering could reflect: 1. True spatial clustering of homicide risk factors 2. Population density patterns (more people = more potential victims) 3. Spatially varying socioeconomic conditions 4. Geographic variation in policing and reporting</p>
<hr>
</section>
<section id="task-3.3-interactive-map---basic" class="level2">
<h2 class="anchored" data-anchor-id="task-3.3-interactive-map---basic">Task 3.3: Interactive Map - Basic</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create basic interactive map</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>map_basic <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>CartoDB.Positron) <span class="sc">%&gt;%</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste0</span>(</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;strong&gt;Homicide&lt;/strong&gt;&lt;br&gt;"</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Date: "</span>, dispatch_date, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Time: "</span>, hour, <span class="st">":00&lt;br&gt;"</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Location: "</span>, location_block, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"District: "</span>, dc_dist, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Object ID: "</span>, objectid</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">6</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"darkred"</span>,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor =</span> <span class="st">"red"</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">2</span>,</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"District"</span>, dc_dist)</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addScaleBar</span>(<span class="at">position =</span> <span class="st">"bottomleft"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMiniMap</span>(</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>,</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">minimized =</span> <span class="cn">TRUE</span>,</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"bottomright"</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addControl</span>(</span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">html =</span> <span class="fu">paste0</span>(<span class="st">"&lt;div style=</span><span class="sc">\'</span><span class="st">background: white; padding: 5px; border-radius: 5px;</span><span class="sc">\'</span><span class="st">&gt;&lt;strong&gt;Philadelphia Homicides 2025&lt;/strong&gt;&lt;br&gt;n = "</span>, <span class="fu">nrow</span>(homicides_sf), <span class="st">"&lt;/div&gt;"</span>),</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"topright"</span></span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the map</span></span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a>map_basic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-4c5c0c982097138bac5c" style="width:100%;height:520px;"></div>
<script type="application/json" data-for="htmlwidget-4c5c0c982097138bac5c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[39.94747962078,40.01259568692,40.017971230814,40.007516928887,39.998127744116,40.008597301754,39.992101994431,39.9960174563,40.00430659017,39.993983892237,39.967147967753,39.995790872912,40.030383537135,39.932155037188,40.040176882951,40.040176882951,39.965610504353,39.910691636573,39.939273944634,39.992827097019,40.054690705373,40.009619679212,39.987375711922,40.019821905307,39.9836596062,40.031207301584,39.993052202478,40.043548849373,39.948352131293,40.043704250251,40.001763621974,39.996690852573,39.992039453875,40.074153766346,39.928395859507,40.029695638451,39.994450832749,39.969702623028,40.023820376301,39.961663327043,39.952528780154,40.027301445585,39.963579995275,39.989496420174,39.921247003038,39.967864898717,39.992853731308,39.961914517042,39.974048051788,40.029625580112,39.997527845345,39.911354965256,40.020731116266,40.003089520787,39.988506631401,39.961875504864,39.903834600793,40.007301065335,39.95035066654,39.993117873885,40.020728815512,39.965077428385,39.949035693269,39.967270474542,39.976851832696,39.991509018801,39.976734895701,39.982688690105,39.999885853733,39.986265983043,39.966775258794,40.006579934912,39.990707059472,39.994001868239,39.969142334412,40.032236396316,39.934466363809,39.934466363809,39.934466363809,40.026268723104,39.976834340752,40.062244913469,39.928715536889,39.951611363235,39.941523993124,39.99292094246,39.995125758013,40.03915613702,39.927709041825,39.986905203365,39.990126885346,39.99261126527,39.986972007267,39.99807382079,40.00286168993,40.009602984644,40.006785862171,40.015023192515,40.021959768662,40.018839925206,39.973689348127,40.025523827555,39.979909094843,39.960412347155,39.946831443371,40.040256295068,39.967217947996,39.984582720794,39.995414196479,39.997155837219,39.97785988102,40.014863841586,39.956902465817,39.950152426279,39.948128376182,39.973807392252,39.995131083479,39.994130320524,39.986338107426,39.967016829465,39.991030101913,39.997708553623,39.995967903774,39.925943025172,40.043256215487,40.007024077332,40.000467654618,39.976051055734,39.926662546529,39.993528730861,40.025109933164,40.076192441161,40.043857337781,39.915313876437,40.033054545206,40.033054545206,40.033565485464,39.910685785211,39.938525800709,39.931234755494,39.991669828231,39.967306898881,40.005471865003,40.035769998414,39.933550008529,39.917125004747,39.990613402488,40.045522743099,40.050538093662,40.031470943975,40.001048758733,40.02501388784,40.070676504094,39.935968142421,39.92791391124,39.979682594781,40.00286168993,39.985496454905,39.985496454905,40.03923553523,40.008351742521,40.031423926033,39.965064543017,40.019800613382,39.933396973264,40.000400762644,39.968878375695,39.997381152849,40.046329467112,40.060740580583,39.989234296485,40.01359801207,40.01359801207,40.01359801207,40.022845763328,39.995131083479,39.923630084498,39.987669885422,40.005489774894,39.939812079354,39.985293841546,40.027890944761,40.026023215416,39.932874948814,39.998283459349,40.076830892162,40.058969036132,39.944053010362,39.987940050129,39.99431203796,39.99431203796,39.99431203796,40.058403201621,39.911131130249,39.996543942006,39.937363820451,40.035241471884,39.960898396138,40.042772968068,39.927709041825,39.927709041825,39.991349430384,39.992195511231],[-75.161725532601,-75.087597346995,-75.076143087811,-75.09096415867801,-75.11298443111301,-75.098368028019,-75.139759850442,-75.131468619103,-75.14936034221201,-75.1308657771,-75.233722736853,-75.121060476181,-75.1318893168,-75.219124070893,-75.020121683173,-75.020121683173,-75.244123815728,-75.165747514757,-75.217505754242,-75.181829264724,-75.07054020929699,-75.16731380039801,-75.165059221044,-75.124127589785,-75.184878060956,-75.15144378436101,-75.16304477024001,-75.103235973636,-75.239633543803,-75.13748151526499,-75.12919815030099,-75.115386013924,-75.140283873331,-75.158522417905,-75.23291848764801,-75.151768089938,-75.113735705308,-75.213040240536,-75.17679767915401,-75.238868748271,-75.165312187675,-75.145121413166,-75.2286669385,-75.132353006727,-75.231570127612,-75.19831028231,-75.133072446835,-75.24084797051,-75.20437655537501,-75.094351798947,-75.115210526224,-75.170438714105,-75.118236721305,-75.20482382813201,-75.18544361261699,-75.226578317394,-75.24057934383301,-75.086821889901,-75.16029458016401,-75.124124977243,-75.08011010461,-75.205570352225,-75.16219715137299,-75.245875391005,-75.16573774637099,-75.12254121666101,-75.164950131414,-75.165272566675,-75.118702506852,-75.168036975034,-75.241856689541,-75.10095053811899,-75.14260550797999,-75.118026486847,-75.21584294266999,-75.030926102781,-75.190044693567,-75.190044693567,-75.190044693567,-75.109814421895,-75.25240849498,-75.151852786204,-75.152118857189,-75.170420223671,-75.220180475788,-75.15980889649499,-75.164178226201,-75.174328071612,-75.23114364154,-75.16054857044,-75.160985657715,-75.131160435236,-75.182515940561,-75.112480291609,-75.13791002554601,-75.140843489909,-75.14312521250299,-75.147286119531,-75.151850888201,-75.115349871148,-75.217978101447,-75.14226578492899,-75.21935298613801,-75.235115766977,-75.239939837595,-75.12285122436499,-75.20571166964601,-75.167141953377,-75.130005645393,-75.166471247632,-75.16228165946499,-75.085535174699,-75.22560287768,-75.233095328446,-75.23350120864301,-75.206897116557,-75.17594779223499,-75.11138998481501,-75.175668743995,-75.208289015429,-75.11204443135,-75.13059904991501,-75.16979212456199,-75.18225937259901,-75.18099039924699,-75.14710554556,-75.11922609311,-75.159527338625,-75.19052659402401,-75.126434949642,-75.139088592231,-75.197444715126,-75.22863779459701,-75.160582727529,-75.106924188345,-75.106924188345,-75.04027728149001,-75.24081060376,-75.15640310842301,-75.17808313080801,-75.17983378149501,-75.19820678196101,-75.108691215349,-75.226833130138,-75.231538842734,-75.23743364522799,-75.18502919861599,-75.22951476847901,-75.15469060941101,-75.06326172288,-75.20714166978701,-75.114591399308,-75.241117401254,-75.21940157471801,-75.155544697344,-75.109456443955,-75.13791002554601,-75.16303585723099,-75.16303585723099,-75.128066517527,-75.15643642802,-75.06631497829601,-75.215344275539,-75.15352367118101,-75.225863299636,-75.106424689368,-75.232311458777,-75.16809966703499,-75.18526109383799,-75.16099945696099,-75.126455802791,-75.158716257566,-75.158716257566,-75.158716257566,-75.12822778231801,-75.17594779223499,-75.154881433887,-75.14192366119001,-75.14598287039701,-75.172989445146,-75.184520729539,-75.136825072836,-75.04323202011101,-75.230731352969,-75.11504474152299,-75.07474605578901,-75.08501851556299,-75.22819095432401,-75.144060858394,-75.181496374426,-75.181496374426,-75.181496374426,-75.161134668636,-75.234218861969,-75.137869062777,-75.18725419662999,-75.13876995624599,-75.23903081254301,-75.15721301197,-75.23114364154,-75.23114364154,-75.122577715519,-75.119963746057],6,null,null,{"interactive":true,"className":"","stroke":true,"color":"darkred","weight":2,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.7},null,null,["<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 200 BLOCK S CAMAC ST<br>District: 12<br>Object ID: 36297681","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 4400 BLOCK FRANKFORD A<br>District: 15<br>Object ID: 36297684","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 1800 BLOCK WAKELNG ST<br>District: 15<br>Object ID: 36297686","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4100 BLOCK FRANKFORD AV<br>District: 15<br>Object ID: 36297687","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 3300 BLOCK \"H\" ST<br>District: 24<br>Object ID: 36297689","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 1500 BLOCK E LYCOMING ST<br>District: 24<br>Object ID: 36297691","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 2700 BLOCK N ORKNEYST<br>District: 25<br>Object ID: 36297692","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 100 BLOCK W TUSCULUM ST<br>District: 25<br>Object ID: 36297733","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 3400 BLOCK GERMANTOWN AV<br>District: 25<br>Object ID: 36297868","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 100 BLOCK W CAMBRIA ST<br>District: 25<br>Object ID: 36297946","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 400 BLOCK N 57TH ST<br>District: 19<br>Object ID: 36297960","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 500 BLOCK E CLEARFIELD ST<br>District: 24<br>Object ID: 36297989","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 5200 BLOCK N 5TH ST<br>District: 35<br>Object ID: 36298024","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5600 BLOCK GRAYS AV<br>District: 12<br>Object ID: 36298157","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4500 BLOCK ENFIELD AV<br>District: 08<br>Object ID: 36298172","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4500 BLOCK ENFIELD AV<br>District: 08<br>Object ID: 36298173","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 200 BLOCK N 62ND ST<br>District: 19<br>Object ID: 36298182","<strong>Homicide<\/strong><br>Date: NA<br>Time: 8:00<br>Location: 1000 BLOCK PACKER AV<br>District: 03<br>Object ID: 36298186","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 5200 BLOCK GREENWAY AVE<br>District: 12<br>Object ID: 36298273","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 2400 BLOCK N CORLIES ST<br>District: 22<br>Object ID: 36298285","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 1700 BLOCK TEESDALE ST<br>District: 02<br>Object ID: 36298287","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 2300 BLOCK HUNTING PARK AV<br>District: 39<br>Object ID: 36298322","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 1900 BLOCK W SUSQUEHANNA AV<br>District: 22<br>Object ID: 36298348","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 100 BLOCK E COURTLAND ST<br>District: 25<br>Object ID: 36298467","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 3100 BLOCK W MONTGOMERY AV<br>District: 22<br>Object ID: 36298490","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1700 BLOCK LINDLEY AV<br>District: 35<br>Object ID: 36298542","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1900 BLOCK MARGIE ST<br>District: 22<br>Object ID: 36298596","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 500 BLOCK ALCOTT ST<br>District: 02<br>Object ID: 36298611","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5800 BLOCK MONTROSE ST<br>District: 18<br>Object ID: 36298979","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 6000 BLOCK WARNOCK ST<br>District: 35<br>Object ID: 36299027","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3400 BLOCK N HOPE ST<br>District: 25<br>Object ID: 36299076","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 800 BLOCK E ALLEGHENY AV<br>District: 24<br>Object ID: 36299128","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 500 BLOCK W LEHIGH AV<br>District: 25<br>Object ID: 36299170","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2500 BLOCK W CHELTENHAM AV<br>District: 14<br>Object ID: 36299179","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2100 BLOCK CEMETERY AV<br>District: 12<br>Object ID: 36299184","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 1700 BLOCK W RUSCOMB ST<br>District: 35<br>Object ID: 36299185","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3100 BLOCK JASPER ST<br>District: 24<br>Object ID: 36299191","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 4500 BLOCK LANCASTER AV<br>District: 16<br>Object ID: 36299237","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 500 BLOCK W QUEEN LN<br>District: 39<br>Object ID: 36299253","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5900 BLOCK MARKET ST<br>District: 18<br>Object ID: 36299262","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 1500 BLOCK MARKET ST<br>District: 09<br>Object ID: 36299322","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1300 BLOCK W ROCKLAND ST<br>District: 35<br>Object ID: 36299365","<strong>Homicide<\/strong><br>Date: NA<br>Time: 14:00<br>Location: 5400 BLOCK RACE ST<br>District: 19<br>Object ID: 36299482","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2600 BLOCK N HOWARD ST<br>District: 26<br>Object ID: 36299563","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 6600 BLOCK ELMWOOD AV<br>District: 12<br>Object ID: 36299628","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 3800 BLOCK BROWN ST<br>District: 16<br>Object ID: 36299690","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 2800 BLOCK N MUTTER ST<br>District: 25<br>Object ID: 36299696","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 6000 BLOCK MARKET ST<br>District: 18<br>Object ID: 36299703","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 4000 BLOCK W GIRARD AV<br>District: 16<br>Object ID: 36299825","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 5000 BLOCK SUMMERDALE AV<br>District: 02<br>Object ID: 36299830","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 800 BLOCK E MADISON ST<br>District: 24<br>Object ID: 36299898","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1300 BLOCK PACKER AV<br>District: 03<br>Object ID: 36299901","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 400 BLOCK E WYOMING AV<br>District: 25<br>Object ID: 36299928","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 3800 BLOCK CONSHOHOCKEN<br>District: 19<br>Object ID: 36299938","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2100 BLOCK N 32ND ST<br>District: 22<br>Object ID: 36299956","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 100 BLOCK N 53RD ST<br>District: 19<br>Object ID: 36300003","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 2900 BLOCK ISLAND AV<br>District: 12<br>Object ID: 36300039","<strong>Homicide<\/strong><br>Date: NA<br>Time: 12:00<br>Location: 4200 BLOCK TORRESDALE AV<br>District: 15<br>Object ID: 36300042","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1200 BLOCK CHESTNUT ST<br>District: 09<br>Object ID: 36300043","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 400 BLOCK E CAMBRIA ST<br>District: 24<br>Object ID: 36300065","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 5000 BLOCK FRANKFORD AVE<br>District: 15<br>Object ID: 36300100","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 4100 BLOCK LANCASTER AVE<br>District: 16<br>Object ID: 36300140","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 1300 BLOCK WALNUT ST<br>District: 09<br>Object ID: 36300157","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 300 BLOCK N 63RD ST<br>District: 19<br>Object ID: 36300169","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1500 BLOCK N GRATZ ST<br>District: 22<br>Object ID: 36300187","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2800 BLOCK KENSINGTON AV<br>District: 24<br>Object ID: 36300228","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 1500 BLOCK N 18TH ST<br>District: 22<br>Object ID: 36300252","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 1900 BLOCK W BERKS ST<br>District: 22<br>Object ID: 36300266","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 600 BLOCK E THAYER ST<br>District: 25<br>Object ID: 36300276","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 2100 BLOCK N 21ST ST<br>District: 22<br>Object ID: 36300289","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 6100 BLOCK VINE ST<br>District: 19<br>Object ID: 36300314","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 3900 BLOCK M ST<br>District: 24<br>Object ID: 36300321","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 600 BLOCK W HUNTINGDON ST<br>District: 26<br>Object ID: 36300322","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3000 BLOCK KENSINGTON AV<br>District: 24<br>Object ID: 36300407","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 900 BLOCK N 47TH ST<br>District: 16<br>Object ID: 36300430","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4700 BLOCK SHELMIRE AV<br>District: 15<br>Object ID: 36300466","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1500 BLOCK S ETTING ST<br>District: 17<br>Object ID: 36300530","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1500 BLOCK S ETTING ST<br>District: 17<br>Object ID: 36300531","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1500 BLOCK S ETTING ST<br>District: 17<br>Object ID: 36300532","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 700 BLOCK JERICHO RD<br>District: 15<br>Object ID: 36300541","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 900 BLOCK N 66TH ST<br>District: 19<br>Object ID: 36300572","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 7100 BLOCK OGONTZ AV<br>District: 14<br>Object ID: 36300617","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 400 BLOCK CROSS ST<br>District: 03<br>Object ID: 36300674","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 100 BLOCK S 18TH ST<br>District: 09<br>Object ID: 36300758","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 1300 BLOCK S 52ND ST<br>District: 12<br>Object ID: 36300792","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 1700 BLOCK W HUNTINGDON ST<br>District: 22<br>Object ID: 36300867","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2000 BLOCK W LEHIGH AV<br>District: 39<br>Object ID: 36300908","<strong>Homicide<\/strong><br>Date: NA<br>Time: 6:00<br>Location: 200 BLOCK E RITTENHOUSE ST<br>District: 14<br>Object ID: 36300925","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 2200 BLOCK S FELTON ST<br>District: 12<br>Object ID: 36300945","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2200 BLOCK N CHADWICK ST<br>District: 22<br>Object ID: 36300953","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2400 BLOCK N COLORADO ST<br>District: 22<br>Object ID: 36300979","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 2800 BLOCK N HOPE ST<br>District: 25<br>Object ID: 36301025","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 3000 BLOCK PAGE ST<br>District: 22<br>Object ID: 36301041","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 3300 BLOCK RAND ST<br>District: 24<br>Object ID: 36301099","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 3400 BLOCK N 5TH ST<br>District: 25<br>Object ID: 36301105","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 3800 BLOCK N FRANKLIN ST<br>District: 25<br>Object ID: 36301134","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 3600 BLOCK N 9TH ST<br>District: 25<br>Object ID: 36301144","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 4100 BLOCK OLD YORK RD<br>District: 25<br>Object ID: 36301165","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 4500 BLOCK N 16TH ST<br>District: 35<br>Object ID: 36301203","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 4600 BLOCK WHITAKER AV<br>District: 25<br>Object ID: 36301216","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 4800 BLOCK MERION AV<br>District: 19<br>Object ID: 36301220","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 4800 BLOCK N 11TH ST<br>District: 35<br>Object ID: 36301231","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5000 BLOCK PARKSIDE AV<br>District: 19<br>Object ID: 36301254","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5700 BLOCK LUDLOW ST<br>District: 18<br>Object ID: 36301313","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5800 BLOCK ALTER ST<br>District: 18<br>Object ID: 36301326","<strong>Homicide<\/strong><br>Date: NA<br>Time: 6:00<br>Location: 5900 BLOCK MASCHER ST<br>District: 35<br>Object ID: 36301339","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 800 BLOCK N 41ST ST<br>District: 16<br>Object ID: 36301448","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 2000 BLOCK N WOODSTOCK ST<br>District: 22<br>Object ID: 36301471","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 100 BLOCK W INDIANA AV<br>District: 25<br>Object ID: 36301502","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 2800 BLOCK N VANPELT ST<br>District: 39<br>Object ID: 36301545","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1600 BLOCK WILLINGTON ST<br>District: 22<br>Object ID: 36301866","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 4600 BLOCK FRANKFORD AVE<br>District: 15<br>Object ID: 36301928","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 5200 BLOCK WALNUT ST<br>District: 18<br>Object ID: 36301935","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5500 BLOCK WALTON AV<br>District: 18<br>Object ID: 36301937","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 800 BLOCK S 55TH ST<br>District: 12<br>Object ID: 36301969","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 4100 BLOCK LEIDY AV<br>District: 16<br>Object ID: 36301979","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 2600 BLOCK N 27TH ST<br>District: 22<br>Object ID: 36301995","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2000 BLOCK E ALLEGHENY AV<br>District: 24<br>Object ID: 36302022","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2000 BLOCK N BAMBREY ST<br>District: 22<br>Object ID: 36302024","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 800 BLOCK BROOKLYN ST<br>District: 16<br>Object ID: 36302033","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 3100 BLOCK AMBER ST<br>District: 24<br>Object ID: 36302034","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 100 BLOCK W LIPPINCOTT ST<br>District: 25<br>Object ID: 36302112","<strong>Homicide<\/strong><br>Date: NA<br>Time: 12:00<br>Location: 2700 BLOCK N BONSALL ST<br>District: 39<br>Object ID: 36302130","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2100 BLOCK S BEECHWOOD ST<br>District: 01<br>Object ID: 36302182","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 6300 BLOCK GERMANTOWN AV<br>District: 14<br>Object ID: 36302266","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 1100 BLOCK W VENANGO ST<br>District: 25<br>Object ID: 36302268","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 3400 BLOCK HARTVILLE ST<br>District: 25<br>Object ID: 36302322","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 1500 BLOCK N CARLISLE ST<br>District: 22<br>Object ID: 36302358","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2100 BLOCK BAILEY TER<br>District: 01<br>Object ID: 36302374","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 2900 BLOCK B ST<br>District: 24<br>Object ID: 36302387","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 4800 BLOCK N 9TH ST<br>District: 35<br>Object ID: 36302426","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 400 BLOCK E ABINGTON AV<br>District: 14<br>Object ID: 36302431","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 7000 BLOCK RIDGE AV<br>District: 05<br>Object ID: 36302498","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 700 BLOCK OREGON AV<br>District: 03<br>Object ID: 36302499","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 700 BLOCK ADAMS AV<br>District: 02<br>Object ID: 36302503","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 700 BLOCK ADAMS AV<br>District: 02<br>Object ID: 36302504","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 7200 BLOCK WALKER ST<br>District: 15<br>Object ID: 36302505","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 7400 BLOCK DICKS AV<br>District: 12<br>Object ID: 36302510","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 900 BLOCK S 8TH ST<br>District: 03<br>Object ID: 36302522","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 2000 BLOCK FERNON ST<br>District: 17<br>Object ID: 36302548","<strong>Homicide<\/strong><br>Date: NA<br>Time: 12:00<br>Location: 2900 BLOCK W GORDON ST<br>District: 22<br>Object ID: 36302555","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 3800 BLOCK FOLSOM ST<br>District: 16<br>Object ID: 36302565","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 3800 BLOCK PALMETTO ST<br>District: 24<br>Object ID: 36302566","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 4800 BLOCK TIBBEN ST<br>District: 05<br>Object ID: 36302582","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 6000 BLOCK CHESTER AV<br>District: 12<br>Object ID: 36302609","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 7000 BLOCK ELMWOOD AV<br>District: 12<br>Object ID: 36302623","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 3200 BLOCK RIDGE AV<br>District: 22<br>Object ID: 36302649","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 500 BLOCK WARTMAN ST<br>District: 05<br>Object ID: 36302672","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 6300 BLOCK N LAMBERT ST<br>District: 35<br>Object ID: 36302682","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2900 BLOCK LEVICK ST<br>District: 15<br>Object ID: 36302705","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 3900 BLOCK LANKENAU AV<br>District: 19<br>Object ID: 36302713","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 5000 BLOCK RORER ST<br>District: 25<br>Object ID: 36302728","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 800 BLOCK BELLS MILL RD<br>District: 05<br>Object ID: 36302772","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1800 BLOCK S YEWDALL ST<br>District: 12<br>Object ID: 36302778","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 600 BLOCK MOUNTAIN ST<br>District: 03<br>Object ID: 36302795","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 2900 BLOCK SALMON ST<br>District: 24<br>Object ID: 36302815","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 3400 BLOCK N 5TH ST<br>District: 25<br>Object ID: 36302817","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1800 BLOCK W DIAMOND ST<br>District: 22<br>Object ID: 36302845","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1800 BLOCK W DIAMOND ST<br>District: 22<br>Object ID: 36302846","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 400 BLOCK W GRANGE AV<br>District: 35<br>Object ID: 36302854","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3600 BLOCK N 17TH ST<br>District: 39<br>Object ID: 36302944","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 6300 BLOCK REVERE ST<br>District: 15<br>Object ID: 36302977","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 700 BLOCK N 47TH ST<br>District: 16<br>Object ID: 36302986","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 1600 BLOCK ROWAN ST<br>District: 39<br>Object ID: 36303050","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 2100 BLOCK S 58TH ST<br>District: 12<br>Object ID: 36303129","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 3500 BLOCK KENSINGTON AV<br>District: 24<br>Object ID: 36303874","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 600 BLOCK N 56TH ST<br>District: 19<br>Object ID: 36303878","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 2800 BLOCK N CROSKEY ST<br>District: 39<br>Object ID: 36303903","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 100 BLOCK W UPSAL ST<br>District: 14<br>Object ID: 36303932","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 1600 BLOCK E TULPEHOCKEN ST<br>District: 14<br>Object ID: 36303945","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 1800 BLOCK E ALBERT ST<br>District: 26<br>Object ID: 36303953","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 1900 BLOCK W HUNTING PARK AV<br>District: 39<br>Object ID: 36303957","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 1900 BLOCK W HUNTING PARK AV<br>District: 39<br>Object ID: 36303958","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 1900 BLOCK W HUNTING PARK AV<br>District: 39<br>Object ID: 36303959","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 200 BLOCK W MENTOR ST<br>District: 25<br>Object ID: 36303967","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2600 BLOCK N 27TH ST<br>District: 22<br>Object ID: 36303981","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 2000 BLOCK S 5TH ST<br>District: 03<br>Object ID: 36304033","<strong>Homicide<\/strong><br>Date: NA<br>Time: 14:00<br>Location: 2400 BLOCK N REESE ST<br>District: 26<br>Object ID: 36304046","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 3500 BLOCK N WARNOCK ST<br>District: 25<br>Object ID: 36304069","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1000 BLOCK S 18TH ST<br>District: 17<br>Object ID: 36304075","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 1900 BLOCK N 31ST ST<br>District: 22<br>Object ID: 36304108","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 5000 BLOCK N FRANKLIN ST<br>District: 35<br>Object ID: 36304193","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 6900 BLOCK TORRESDALE AV<br>District: 15<br>Object ID: 36304201","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 6000 BLOCK ALLMAN ST<br>District: 12<br>Object ID: 36304223","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 800 BLOCK E WESTMORELAND ST<br>District: 24<br>Object ID: 36304234","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 800 BLOCK EMERSON ST<br>District: 07<br>Object ID: 36304250","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 7200 BLOCK OXFORD AVE<br>District: 02<br>Object ID: 36304280","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 1100 BLOCK S 54TH ST<br>District: 12<br>Object ID: 36304293","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2400 BLOCK N MARSHALL ST<br>District: 26<br>Object ID: 36304337","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 2500 BLOCK N CORLIES ST<br>District: 22<br>Object ID: 36304340","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 2500 BLOCK N CORLIES ST<br>District: 22<br>Object ID: 36304341","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 2500 BLOCK N CORLIES ST<br>District: 22<br>Object ID: 36304342","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 1500 BLOCK E PASTORIUS ST<br>District: 14<br>Object ID: 36304345","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 7100 BLOCK BRANT PL<br>District: 12<br>Object ID: 36304361","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 3000 BLOCK N LEITHGOW ST<br>District: 25<br>Object ID: 36304364","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2600 BLOCK LATONA ST<br>District: 17<br>Object ID: 36304382","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1000 BLOCK WAGNER AV<br>District: 35<br>Object ID: 36304391","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5900 BLOCK LUDLOW ST<br>District: 18<br>Object ID: 36304420","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2100 BLOCK CONLYN ST<br>District: 35<br>Object ID: 36304430","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 2200 BLOCK S FELTON ST<br>District: 12<br>Object ID: 36304434","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2200 BLOCK S FELTON ST<br>District: 12<br>Object ID: 36304435","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 1800 BLOCK E SOMERSET ST<br>District: 24<br>Object ID: 36304453","<strong>Homicide<\/strong><br>Date: NA<br>Time: 8:00<br>Location: 1800 BLOCK E CAMBRIA ST<br>District: 24<br>Object ID: 36304454"],null,["District 12","District 15","District 15","District 15","District 24","District 24","District 25","District 25","District 25","District 25","District 19","District 24","District 35","District 12","District 08","District 08","District 19","District 03","District 12","District 22","District 02","District 39","District 22","District 25","District 22","District 35","District 22","District 02","District 18","District 35","District 25","District 24","District 25","District 14","District 12","District 35","District 24","District 16","District 39","District 18","District 09","District 35","District 19","District 26","District 12","District 16","District 25","District 18","District 16","District 02","District 24","District 03","District 25","District 19","District 22","District 19","District 12","District 15","District 09","District 24","District 15","District 16","District 09","District 19","District 22","District 24","District 22","District 22","District 25","District 22","District 19","District 24","District 26","District 24","District 16","District 15","District 17","District 17","District 17","District 15","District 19","District 14","District 03","District 09","District 12","District 22","District 39","District 14","District 12","District 22","District 22","District 25","District 22","District 24","District 25","District 25","District 25","District 25","District 35","District 25","District 19","District 35","District 19","District 18","District 18","District 35","District 16","District 22","District 25","District 39","District 22","District 15","District 18","District 18","District 12","District 16","District 22","District 24","District 22","District 16","District 24","District 25","District 39","District 01","District 14","District 25","District 25","District 22","District 01","District 24","District 35","District 14","District 05","District 03","District 02","District 02","District 15","District 12","District 03","District 17","District 22","District 16","District 24","District 05","District 12","District 12","District 22","District 05","District 35","District 15","District 19","District 25","District 05","District 12","District 03","District 24","District 25","District 22","District 22","District 35","District 39","District 15","District 16","District 39","District 12","District 24","District 19","District 39","District 14","District 14","District 26","District 39","District 39","District 39","District 25","District 22","District 03","District 26","District 25","District 17","District 22","District 35","District 15","District 12","District 24","District 07","District 02","District 12","District 26","District 22","District 22","District 22","District 14","District 12","District 25","District 17","District 35","District 18","District 35","District 12","District 12","District 24","District 24"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,true,false,true,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]},{"method":"addControl","args":["<div style='background: white; padding: 5px; border-radius: 5px;'><strong>Philadelphia Homicides 2025<\/strong><br>n = 203<\/div>","topright",null,"info legend"]}],"limits":{"lat":[39.903834600793,40.076830892162],"lng":[-75.25240849498,-75.020121683173]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the map</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveWidget</span>(map_basic, <span class="st">"philadelphia_homicides_basic.html"</span>, <span class="at">selfcontained =</span> <span class="cn">TRUE</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Map saved to: philadelphia_homicides_basic.html</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Map saved to: philadelphia_homicides_basic.html</code></pre>
</div>
</div>
<p><strong>Question:</strong> Explore the interactive map. Which areas of Philadelphia have the highest concentration of homicides?</p>
<p><strong>ANSWER:</strong> Based on interactive exploration, the highest concentrations appear in: - <strong>North Philadelphia</strong> (Districts 22, 24, 25, 35) - <strong>West Philadelphia</strong> (Districts 16, 18, 19) - Some concentration in <strong>Southwest Philadelphia</strong> (District 12)</p>
<p><strong>NOTE:</strong> Students should zoom in and click on individual points to see patterns. Encourage them to: - Look for clustering within districts - Note areas with very few homicides (likely wealthy/suburban areas) - Consider how population density might explain patterns - Think about historical patterns of segregation and disinvestment</p>
<hr>
</section>
<section id="task-3.4-enhanced-map---time-of-day" class="level2">
<h2 class="anchored" data-anchor-id="task-3.4-enhanced-map---time-of-day">Task 3.4: Enhanced Map - Time of Day</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Categorize by time of day</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>homicides_sf <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_period =</span> <span class="fu">case_when</span>(</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"Late Night (12am-6am)"</span>,</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"Morning (6am-12pm)"</span>,</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">12</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Afternoon (12pm-6pm)"</span>,</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">18</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">24</span> <span class="sc">~</span> <span class="st">"Evening (6pm-12am)"</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_period =</span> <span class="fu">factor</span>(time_period, <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Morning (6am-12pm)"</span>,</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Afternoon (12pm-6pm)"</span>,</span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Evening (6pm-12am)"</span>,</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Late Night (12am-6am)"</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create color palette</span></span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>time_colors <span class="ot">&lt;-</span> <span class="fu">colorFactor</span>(</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"#FFC107"</span>, <span class="st">"#FF9800"</span>, <span class="st">"#F44336"</span>, <span class="st">"#880E4F"</span>),</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">domain =</span> homicides_sf<span class="sc">$</span>time_period</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Create map with time periods</span></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>map_time <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>CartoDB.Positron) <span class="sc">%&gt;%</span></span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste0</span>(</span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;strong&gt;Homicide&lt;/strong&gt;&lt;br&gt;"</span>,</span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Date: "</span>, dispatch_date, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Time: "</span>, hour, <span class="st">":00 ("</span>, time_period, <span class="st">")&lt;br&gt;"</span>,</span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Location: "</span>, location_block, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>      <span class="st">"District: "</span>, dc_dist</span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">6</span>,</span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span><span class="fu">time_colors</span>(time_period),</span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">time_colors</span>(time_period),</span>
<span id="cb62-39"><a href="#cb62-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.8</span>,</span>
<span id="cb62-40"><a href="#cb62-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">2</span>,</span>
<span id="cb62-41"><a href="#cb62-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> <span class="sc">~</span>time_period</span>
<span id="cb62-42"><a href="#cb62-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb62-43"><a href="#cb62-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLayersControl</span>(</span>
<span id="cb62-44"><a href="#cb62-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">overlayGroups =</span> <span class="fu">levels</span>(homicides_sf<span class="sc">$</span>time_period),</span>
<span id="cb62-45"><a href="#cb62-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">layersControlOptions</span>(<span class="at">collapsed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb62-46"><a href="#cb62-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb62-47"><a href="#cb62-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(</span>
<span id="cb62-48"><a href="#cb62-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"topright"</span>,</span>
<span id="cb62-49"><a href="#cb62-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">pal =</span> time_colors,</span>
<span id="cb62-50"><a href="#cb62-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="sc">~</span>time_period,</span>
<span id="cb62-51"><a href="#cb62-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Time of Day"</span>,</span>
<span id="cb62-52"><a href="#cb62-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span></span>
<span id="cb62-53"><a href="#cb62-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb62-54"><a href="#cb62-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addScaleBar</span>(<span class="at">position =</span> <span class="st">"bottomleft"</span>)</span>
<span id="cb62-55"><a href="#cb62-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-56"><a href="#cb62-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Display map</span></span>
<span id="cb62-57"><a href="#cb62-57" aria-hidden="true" tabindex="-1"></a>map_time</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-5afb8e498affa9c6cf11" style="width:100%;height:520px;"></div>
<script type="application/json" data-for="htmlwidget-5afb8e498affa9c6cf11">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[39.94747962078,40.01259568692,40.017971230814,40.007516928887,39.998127744116,40.008597301754,39.992101994431,39.9960174563,40.00430659017,39.993983892237,39.967147967753,39.995790872912,40.030383537135,39.932155037188,40.040176882951,40.040176882951,39.965610504353,39.910691636573,39.939273944634,39.992827097019,40.054690705373,40.009619679212,39.987375711922,40.019821905307,39.9836596062,40.031207301584,39.993052202478,40.043548849373,39.948352131293,40.043704250251,40.001763621974,39.996690852573,39.992039453875,40.074153766346,39.928395859507,40.029695638451,39.994450832749,39.969702623028,40.023820376301,39.961663327043,39.952528780154,40.027301445585,39.963579995275,39.989496420174,39.921247003038,39.967864898717,39.992853731308,39.961914517042,39.974048051788,40.029625580112,39.997527845345,39.911354965256,40.020731116266,40.003089520787,39.988506631401,39.961875504864,39.903834600793,40.007301065335,39.95035066654,39.993117873885,40.020728815512,39.965077428385,39.949035693269,39.967270474542,39.976851832696,39.991509018801,39.976734895701,39.982688690105,39.999885853733,39.986265983043,39.966775258794,40.006579934912,39.990707059472,39.994001868239,39.969142334412,40.032236396316,39.934466363809,39.934466363809,39.934466363809,40.026268723104,39.976834340752,40.062244913469,39.928715536889,39.951611363235,39.941523993124,39.99292094246,39.995125758013,40.03915613702,39.927709041825,39.986905203365,39.990126885346,39.99261126527,39.986972007267,39.99807382079,40.00286168993,40.009602984644,40.006785862171,40.015023192515,40.021959768662,40.018839925206,39.973689348127,40.025523827555,39.979909094843,39.960412347155,39.946831443371,40.040256295068,39.967217947996,39.984582720794,39.995414196479,39.997155837219,39.97785988102,40.014863841586,39.956902465817,39.950152426279,39.948128376182,39.973807392252,39.995131083479,39.994130320524,39.986338107426,39.967016829465,39.991030101913,39.997708553623,39.995967903774,39.925943025172,40.043256215487,40.007024077332,40.000467654618,39.976051055734,39.926662546529,39.993528730861,40.025109933164,40.076192441161,40.043857337781,39.915313876437,40.033054545206,40.033054545206,40.033565485464,39.910685785211,39.938525800709,39.931234755494,39.991669828231,39.967306898881,40.005471865003,40.035769998414,39.933550008529,39.917125004747,39.990613402488,40.045522743099,40.050538093662,40.031470943975,40.001048758733,40.02501388784,40.070676504094,39.935968142421,39.92791391124,39.979682594781,40.00286168993,39.985496454905,39.985496454905,40.03923553523,40.008351742521,40.031423926033,39.965064543017,40.019800613382,39.933396973264,40.000400762644,39.968878375695,39.997381152849,40.046329467112,40.060740580583,39.989234296485,40.01359801207,40.01359801207,40.01359801207,40.022845763328,39.995131083479,39.923630084498,39.987669885422,40.005489774894,39.939812079354,39.985293841546,40.027890944761,40.026023215416,39.932874948814,39.998283459349,40.076830892162,40.058969036132,39.944053010362,39.987940050129,39.99431203796,39.99431203796,39.99431203796,40.058403201621,39.911131130249,39.996543942006,39.937363820451,40.035241471884,39.960898396138,40.042772968068,39.927709041825,39.927709041825,39.991349430384,39.992195511231],[-75.161725532601,-75.087597346995,-75.076143087811,-75.09096415867801,-75.11298443111301,-75.098368028019,-75.139759850442,-75.131468619103,-75.14936034221201,-75.1308657771,-75.233722736853,-75.121060476181,-75.1318893168,-75.219124070893,-75.020121683173,-75.020121683173,-75.244123815728,-75.165747514757,-75.217505754242,-75.181829264724,-75.07054020929699,-75.16731380039801,-75.165059221044,-75.124127589785,-75.184878060956,-75.15144378436101,-75.16304477024001,-75.103235973636,-75.239633543803,-75.13748151526499,-75.12919815030099,-75.115386013924,-75.140283873331,-75.158522417905,-75.23291848764801,-75.151768089938,-75.113735705308,-75.213040240536,-75.17679767915401,-75.238868748271,-75.165312187675,-75.145121413166,-75.2286669385,-75.132353006727,-75.231570127612,-75.19831028231,-75.133072446835,-75.24084797051,-75.20437655537501,-75.094351798947,-75.115210526224,-75.170438714105,-75.118236721305,-75.20482382813201,-75.18544361261699,-75.226578317394,-75.24057934383301,-75.086821889901,-75.16029458016401,-75.124124977243,-75.08011010461,-75.205570352225,-75.16219715137299,-75.245875391005,-75.16573774637099,-75.12254121666101,-75.164950131414,-75.165272566675,-75.118702506852,-75.168036975034,-75.241856689541,-75.10095053811899,-75.14260550797999,-75.118026486847,-75.21584294266999,-75.030926102781,-75.190044693567,-75.190044693567,-75.190044693567,-75.109814421895,-75.25240849498,-75.151852786204,-75.152118857189,-75.170420223671,-75.220180475788,-75.15980889649499,-75.164178226201,-75.174328071612,-75.23114364154,-75.16054857044,-75.160985657715,-75.131160435236,-75.182515940561,-75.112480291609,-75.13791002554601,-75.140843489909,-75.14312521250299,-75.147286119531,-75.151850888201,-75.115349871148,-75.217978101447,-75.14226578492899,-75.21935298613801,-75.235115766977,-75.239939837595,-75.12285122436499,-75.20571166964601,-75.167141953377,-75.130005645393,-75.166471247632,-75.16228165946499,-75.085535174699,-75.22560287768,-75.233095328446,-75.23350120864301,-75.206897116557,-75.17594779223499,-75.11138998481501,-75.175668743995,-75.208289015429,-75.11204443135,-75.13059904991501,-75.16979212456199,-75.18225937259901,-75.18099039924699,-75.14710554556,-75.11922609311,-75.159527338625,-75.19052659402401,-75.126434949642,-75.139088592231,-75.197444715126,-75.22863779459701,-75.160582727529,-75.106924188345,-75.106924188345,-75.04027728149001,-75.24081060376,-75.15640310842301,-75.17808313080801,-75.17983378149501,-75.19820678196101,-75.108691215349,-75.226833130138,-75.231538842734,-75.23743364522799,-75.18502919861599,-75.22951476847901,-75.15469060941101,-75.06326172288,-75.20714166978701,-75.114591399308,-75.241117401254,-75.21940157471801,-75.155544697344,-75.109456443955,-75.13791002554601,-75.16303585723099,-75.16303585723099,-75.128066517527,-75.15643642802,-75.06631497829601,-75.215344275539,-75.15352367118101,-75.225863299636,-75.106424689368,-75.232311458777,-75.16809966703499,-75.18526109383799,-75.16099945696099,-75.126455802791,-75.158716257566,-75.158716257566,-75.158716257566,-75.12822778231801,-75.17594779223499,-75.154881433887,-75.14192366119001,-75.14598287039701,-75.172989445146,-75.184520729539,-75.136825072836,-75.04323202011101,-75.230731352969,-75.11504474152299,-75.07474605578901,-75.08501851556299,-75.22819095432401,-75.144060858394,-75.181496374426,-75.181496374426,-75.181496374426,-75.161134668636,-75.234218861969,-75.137869062777,-75.18725419662999,-75.13876995624599,-75.23903081254301,-75.15721301197,-75.23114364154,-75.23114364154,-75.122577715519,-75.119963746057],6,null,["Late Night (12am-6am)","Late Night (12am-6am)","Morning (6am-12pm)","Late Night (12am-6am)","Afternoon (12pm-6pm)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Morning (6am-12pm)","Morning (6am-12pm)","Late Night (12am-6am)","Late Night (12am-6am)","Afternoon (12pm-6pm)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Morning (6am-12pm)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Morning (6am-12pm)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Morning (6am-12pm)","Late Night (12am-6am)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Morning (6am-12pm)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Morning (6am-12pm)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Morning (6am-12pm)","Morning (6am-12pm)","Late Night (12am-6am)","Afternoon (12pm-6pm)","Late Night (12am-6am)","Late Night (12am-6am)","Morning (6am-12pm)","Late Night (12am-6am)","Morning (6am-12pm)","Late Night (12am-6am)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Morning (6am-12pm)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Morning (6am-12pm)","Late Night (12am-6am)","Evening (6pm-12am)","Morning (6am-12pm)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Morning (6am-12pm)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Evening (6pm-12am)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Morning (6am-12pm)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Morning (6am-12pm)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Evening (6pm-12am)","Morning (6am-12pm)","Morning (6am-12pm)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Morning (6am-12pm)","Morning (6am-12pm)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Morning (6am-12pm)","Late Night (12am-6am)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Late Night (12am-6am)","Evening (6pm-12am)","Late Night (12am-6am)","Late Night (12am-6am)","Late Night (12am-6am)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Evening (6pm-12am)","Evening (6pm-12am)","Late Night (12am-6am)","Afternoon (12pm-6pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Morning (6am-12pm)"],{"interactive":true,"className":"","stroke":true,"color":["#880E4F","#880E4F","#FFC107","#880E4F","#FF9800","#FFC107","#FF9800","#F44336","#880E4F","#880E4F","#F44336","#F44336","#F44336","#F44336","#880E4F","#880E4F","#FFC107","#FFC107","#880E4F","#880E4F","#FF9800","#FFC107","#FF9800","#F44336","#880E4F","#F44336","#F44336","#F44336","#F44336","#880E4F","#F44336","#FF9800","#FFC107","#880E4F","#880E4F","#880E4F","#F44336","#FF9800","#FF9800","#F44336","#FFC107","#F44336","#FF9800","#F44336","#FFC107","#FF9800","#FFC107","#880E4F","#FF9800","#FF9800","#FF9800","#F44336","#FFC107","#880E4F","#880E4F","#880E4F","#F44336","#FF9800","#F44336","#880E4F","#880E4F","#880E4F","#FFC107","#FF9800","#F44336","#880E4F","#F44336","#FF9800","#880E4F","#F44336","#F44336","#FF9800","#FFC107","#F44336","#F44336","#880E4F","#880E4F","#880E4F","#880E4F","#FF9800","#F44336","#F44336","#F44336","#880E4F","#F44336","#880E4F","#880E4F","#FFC107","#FFC107","#880E4F","#FF9800","#880E4F","#880E4F","#FFC107","#880E4F","#FFC107","#880E4F","#FFC107","#FF9800","#F44336","#880E4F","#F44336","#F44336","#F44336","#F44336","#FFC107","#F44336","#F44336","#F44336","#FFC107","#880E4F","#F44336","#FFC107","#F44336","#F44336","#F44336","#880E4F","#880E4F","#F44336","#F44336","#FFC107","#F44336","#FF9800","#F44336","#F44336","#FFC107","#FF9800","#F44336","#FF9800","#F44336","#F44336","#F44336","#F44336","#FF9800","#880E4F","#880E4F","#880E4F","#880E4F","#880E4F","#FFC107","#FF9800","#FF9800","#FFC107","#FF9800","#880E4F","#F44336","#F44336","#FFC107","#F44336","#F44336","#F44336","#FFC107","#F44336","#F44336","#F44336","#880E4F","#880E4F","#F44336","#F44336","#880E4F","#F44336","#F44336","#FFC107","#FFC107","#FF9800","#FF9800","#F44336","#F44336","#FF9800","#FFC107","#FFC107","#F44336","#F44336","#880E4F","#F44336","#FF9800","#FF9800","#FF9800","#880E4F","#880E4F","#880E4F","#880E4F","#FFC107","#880E4F","#F44336","#880E4F","#F44336","#880E4F","#F44336","#880E4F","#880E4F","#880E4F","#FF9800","#FF9800","#FF9800","#F44336","#F44336","#F44336","#880E4F","#FF9800","#FF9800","#F44336","#FFC107"],"weight":2,"opacity":0.5,"fill":true,"fillColor":["#880E4F","#880E4F","#FFC107","#880E4F","#FF9800","#FFC107","#FF9800","#F44336","#880E4F","#880E4F","#F44336","#F44336","#F44336","#F44336","#880E4F","#880E4F","#FFC107","#FFC107","#880E4F","#880E4F","#FF9800","#FFC107","#FF9800","#F44336","#880E4F","#F44336","#F44336","#F44336","#F44336","#880E4F","#F44336","#FF9800","#FFC107","#880E4F","#880E4F","#880E4F","#F44336","#FF9800","#FF9800","#F44336","#FFC107","#F44336","#FF9800","#F44336","#FFC107","#FF9800","#FFC107","#880E4F","#FF9800","#FF9800","#FF9800","#F44336","#FFC107","#880E4F","#880E4F","#880E4F","#F44336","#FF9800","#F44336","#880E4F","#880E4F","#880E4F","#FFC107","#FF9800","#F44336","#880E4F","#F44336","#FF9800","#880E4F","#F44336","#F44336","#FF9800","#FFC107","#F44336","#F44336","#880E4F","#880E4F","#880E4F","#880E4F","#FF9800","#F44336","#F44336","#F44336","#880E4F","#F44336","#880E4F","#880E4F","#FFC107","#FFC107","#880E4F","#FF9800","#880E4F","#880E4F","#FFC107","#880E4F","#FFC107","#880E4F","#FFC107","#FF9800","#F44336","#880E4F","#F44336","#F44336","#F44336","#F44336","#FFC107","#F44336","#F44336","#F44336","#FFC107","#880E4F","#F44336","#FFC107","#F44336","#F44336","#F44336","#880E4F","#880E4F","#F44336","#F44336","#FFC107","#F44336","#FF9800","#F44336","#F44336","#FFC107","#FF9800","#F44336","#FF9800","#F44336","#F44336","#F44336","#F44336","#FF9800","#880E4F","#880E4F","#880E4F","#880E4F","#880E4F","#FFC107","#FF9800","#FF9800","#FFC107","#FF9800","#880E4F","#F44336","#F44336","#FFC107","#F44336","#F44336","#F44336","#FFC107","#F44336","#F44336","#F44336","#880E4F","#880E4F","#F44336","#F44336","#880E4F","#F44336","#F44336","#FFC107","#FFC107","#FF9800","#FF9800","#F44336","#F44336","#FF9800","#FFC107","#FFC107","#F44336","#F44336","#880E4F","#F44336","#FF9800","#FF9800","#FF9800","#880E4F","#880E4F","#880E4F","#880E4F","#FFC107","#880E4F","#F44336","#880E4F","#F44336","#880E4F","#F44336","#880E4F","#880E4F","#880E4F","#FF9800","#FF9800","#FF9800","#F44336","#F44336","#F44336","#880E4F","#FF9800","#FF9800","#F44336","#FFC107"],"fillOpacity":0.8},null,null,["<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 200 BLOCK S CAMAC ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 4400 BLOCK FRANKFORD A<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 1800 BLOCK WAKELNG ST<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 4100 BLOCK FRANKFORD AV<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 3300 BLOCK \"H\" ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00 (Morning (6am-12pm))<br>Location: 1500 BLOCK E LYCOMING ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 2700 BLOCK N ORKNEYST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 100 BLOCK W TUSCULUM ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 3400 BLOCK GERMANTOWN AV<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 100 BLOCK W CAMBRIA ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 400 BLOCK N 57TH ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 500 BLOCK E CLEARFIELD ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 5200 BLOCK N 5TH ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 5600 BLOCK GRAYS AV<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 4500 BLOCK ENFIELD AV<br>District: 08","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 4500 BLOCK ENFIELD AV<br>District: 08","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00 (Morning (6am-12pm))<br>Location: 200 BLOCK N 62ND ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 8:00 (Morning (6am-12pm))<br>Location: 1000 BLOCK PACKER AV<br>District: 03","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 5200 BLOCK GREENWAY AVE<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 2400 BLOCK N CORLIES ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 1700 BLOCK TEESDALE ST<br>District: 02","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 2300 BLOCK HUNTING PARK AV<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 1900 BLOCK W SUSQUEHANNA AV<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 100 BLOCK E COURTLAND ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 3100 BLOCK W MONTGOMERY AV<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 1700 BLOCK LINDLEY AV<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 1900 BLOCK MARGIE ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 500 BLOCK ALCOTT ST<br>District: 02","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 5800 BLOCK MONTROSE ST<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 6000 BLOCK WARNOCK ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 3400 BLOCK N HOPE ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00 (Afternoon (12pm-6pm))<br>Location: 800 BLOCK E ALLEGHENY AV<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00 (Morning (6am-12pm))<br>Location: 500 BLOCK W LEHIGH AV<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 2500 BLOCK W CHELTENHAM AV<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 2100 BLOCK CEMETERY AV<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 1700 BLOCK W RUSCOMB ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 3100 BLOCK JASPER ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00 (Afternoon (12pm-6pm))<br>Location: 4500 BLOCK LANCASTER AV<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 500 BLOCK W QUEEN LN<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 5900 BLOCK MARKET ST<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00 (Morning (6am-12pm))<br>Location: 1500 BLOCK MARKET ST<br>District: 09","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 1300 BLOCK W ROCKLAND ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 14:00 (Afternoon (12pm-6pm))<br>Location: 5400 BLOCK RACE ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 2600 BLOCK N HOWARD ST<br>District: 26","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 6600 BLOCK ELMWOOD AV<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 3800 BLOCK BROWN ST<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00 (Morning (6am-12pm))<br>Location: 2800 BLOCK N MUTTER ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 6000 BLOCK MARKET ST<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00 (Afternoon (12pm-6pm))<br>Location: 4000 BLOCK W GIRARD AV<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 5000 BLOCK SUMMERDALE AV<br>District: 02","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 800 BLOCK E MADISON ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 1300 BLOCK PACKER AV<br>District: 03","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00 (Morning (6am-12pm))<br>Location: 400 BLOCK E WYOMING AV<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 3800 BLOCK CONSHOHOCKEN<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 2100 BLOCK N 32ND ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 100 BLOCK N 53RD ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 2900 BLOCK ISLAND AV<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 12:00 (Afternoon (12pm-6pm))<br>Location: 4200 BLOCK TORRESDALE AV<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 1200 BLOCK CHESTNUT ST<br>District: 09","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 400 BLOCK E CAMBRIA ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 5000 BLOCK FRANKFORD AVE<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 4100 BLOCK LANCASTER AVE<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00 (Morning (6am-12pm))<br>Location: 1300 BLOCK WALNUT ST<br>District: 09","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 300 BLOCK N 63RD ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 1500 BLOCK N GRATZ ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 2800 BLOCK KENSINGTON AV<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 1500 BLOCK N 18TH ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00 (Afternoon (12pm-6pm))<br>Location: 1900 BLOCK W BERKS ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 600 BLOCK E THAYER ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 2100 BLOCK N 21ST ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 6100 BLOCK VINE ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 3900 BLOCK M ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 600 BLOCK W HUNTINGDON ST<br>District: 26","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 3000 BLOCK KENSINGTON AV<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 900 BLOCK N 47TH ST<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 4700 BLOCK SHELMIRE AV<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 1500 BLOCK S ETTING ST<br>District: 17","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 1500 BLOCK S ETTING ST<br>District: 17","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 1500 BLOCK S ETTING ST<br>District: 17","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 700 BLOCK JERICHO RD<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 900 BLOCK N 66TH ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 7100 BLOCK OGONTZ AV<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 400 BLOCK CROSS ST<br>District: 03","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 100 BLOCK S 18TH ST<br>District: 09","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 1300 BLOCK S 52ND ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 1700 BLOCK W HUNTINGDON ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 2000 BLOCK W LEHIGH AV<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 6:00 (Morning (6am-12pm))<br>Location: 200 BLOCK E RITTENHOUSE ST<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00 (Morning (6am-12pm))<br>Location: 2200 BLOCK S FELTON ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 2200 BLOCK N CHADWICK ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 2400 BLOCK N COLORADO ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 2800 BLOCK N HOPE ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 3000 BLOCK PAGE ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00 (Morning (6am-12pm))<br>Location: 3300 BLOCK RAND ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 3400 BLOCK N 5TH ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00 (Morning (6am-12pm))<br>Location: 3800 BLOCK N FRANKLIN ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 3600 BLOCK N 9TH ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00 (Morning (6am-12pm))<br>Location: 4100 BLOCK OLD YORK RD<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00 (Afternoon (12pm-6pm))<br>Location: 4500 BLOCK N 16TH ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 4600 BLOCK WHITAKER AV<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 4800 BLOCK MERION AV<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 4800 BLOCK N 11TH ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 5000 BLOCK PARKSIDE AV<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 5700 BLOCK LUDLOW ST<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 5800 BLOCK ALTER ST<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 6:00 (Morning (6am-12pm))<br>Location: 5900 BLOCK MASCHER ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 800 BLOCK N 41ST ST<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 2000 BLOCK N WOODSTOCK ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 100 BLOCK W INDIANA AV<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 2800 BLOCK N VANPELT ST<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 1600 BLOCK WILLINGTON ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 4600 BLOCK FRANKFORD AVE<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 11:00 (Morning (6am-12pm))<br>Location: 5200 BLOCK WALNUT ST<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 5500 BLOCK WALTON AV<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 800 BLOCK S 55TH ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 4100 BLOCK LEIDY AV<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 2600 BLOCK N 27TH ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 2000 BLOCK E ALLEGHENY AV<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 2000 BLOCK N BAMBREY ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 800 BLOCK BROOKLYN ST<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 3100 BLOCK AMBER ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 100 BLOCK W LIPPINCOTT ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 12:00 (Afternoon (12pm-6pm))<br>Location: 2700 BLOCK N BONSALL ST<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 2100 BLOCK S BEECHWOOD ST<br>District: 01","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 6300 BLOCK GERMANTOWN AV<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00 (Morning (6am-12pm))<br>Location: 1100 BLOCK W VENANGO ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00 (Afternoon (12pm-6pm))<br>Location: 3400 BLOCK HARTVILLE ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 1500 BLOCK N CARLISLE ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 2100 BLOCK BAILEY TER<br>District: 01","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 2900 BLOCK B ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 4800 BLOCK N 9TH ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 400 BLOCK E ABINGTON AV<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 7000 BLOCK RIDGE AV<br>District: 05","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 700 BLOCK OREGON AV<br>District: 03","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 700 BLOCK ADAMS AV<br>District: 02","<strong>Homicide<\/strong><br>Date: NA<br>Time: 4:00 (Late Night (12am-6am))<br>Location: 700 BLOCK ADAMS AV<br>District: 02","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 7200 BLOCK WALKER ST<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 7400 BLOCK DICKS AV<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 900 BLOCK S 8TH ST<br>District: 03","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 2000 BLOCK FERNON ST<br>District: 17","<strong>Homicide<\/strong><br>Date: NA<br>Time: 12:00 (Afternoon (12pm-6pm))<br>Location: 2900 BLOCK W GORDON ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00 (Afternoon (12pm-6pm))<br>Location: 3800 BLOCK FOLSOM ST<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00 (Morning (6am-12pm))<br>Location: 3800 BLOCK PALMETTO ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00 (Afternoon (12pm-6pm))<br>Location: 4800 BLOCK TIBBEN ST<br>District: 05","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 6000 BLOCK CHESTER AV<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 7000 BLOCK ELMWOOD AV<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 3200 BLOCK RIDGE AV<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 500 BLOCK WARTMAN ST<br>District: 05","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 6300 BLOCK N LAMBERT ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 2900 BLOCK LEVICK ST<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 3900 BLOCK LANKENAU AV<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00 (Morning (6am-12pm))<br>Location: 5000 BLOCK RORER ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 800 BLOCK BELLS MILL RD<br>District: 05","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 1800 BLOCK S YEWDALL ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 600 BLOCK MOUNTAIN ST<br>District: 03","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 2900 BLOCK SALMON ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 3400 BLOCK N 5TH ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 1800 BLOCK W DIAMOND ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 1800 BLOCK W DIAMOND ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 400 BLOCK W GRANGE AV<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 3600 BLOCK N 17TH ST<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 6300 BLOCK REVERE ST<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 10:00 (Morning (6am-12pm))<br>Location: 700 BLOCK N 47TH ST<br>District: 16","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00 (Morning (6am-12pm))<br>Location: 1600 BLOCK ROWAN ST<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 2100 BLOCK S 58TH ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 3500 BLOCK KENSINGTON AV<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 600 BLOCK N 56TH ST<br>District: 19","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 2800 BLOCK N CROSKEY ST<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 100 BLOCK W UPSAL ST<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00 (Morning (6am-12pm))<br>Location: 1600 BLOCK E TULPEHOCKEN ST<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 9:00 (Morning (6am-12pm))<br>Location: 1800 BLOCK E ALBERT ST<br>District: 26","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 1900 BLOCK W HUNTING PARK AV<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 1900 BLOCK W HUNTING PARK AV<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 1900 BLOCK W HUNTING PARK AV<br>District: 39","<strong>Homicide<\/strong><br>Date: NA<br>Time: 22:00 (Evening (6pm-12am))<br>Location: 200 BLOCK W MENTOR ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 2600 BLOCK N 27TH ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00 (Afternoon (12pm-6pm))<br>Location: 2000 BLOCK S 5TH ST<br>District: 03","<strong>Homicide<\/strong><br>Date: NA<br>Time: 14:00 (Afternoon (12pm-6pm))<br>Location: 2400 BLOCK N REESE ST<br>District: 26","<strong>Homicide<\/strong><br>Date: NA<br>Time: 2:00 (Late Night (12am-6am))<br>Location: 3500 BLOCK N WARNOCK ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 1:00 (Late Night (12am-6am))<br>Location: 1000 BLOCK S 18TH ST<br>District: 17","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 1900 BLOCK N 31ST ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 5000 BLOCK N FRANKLIN ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 7:00 (Morning (6am-12pm))<br>Location: 6900 BLOCK TORRESDALE AV<br>District: 15","<strong>Homicide<\/strong><br>Date: NA<br>Time: 3:00 (Late Night (12am-6am))<br>Location: 6000 BLOCK ALLMAN ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 20:00 (Evening (6pm-12am))<br>Location: 800 BLOCK E WESTMORELAND ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 800 BLOCK EMERSON ST<br>District: 07","<strong>Homicide<\/strong><br>Date: NA<br>Time: 19:00 (Evening (6pm-12am))<br>Location: 7200 BLOCK OXFORD AVE<br>District: 02","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 1100 BLOCK S 54TH ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 2400 BLOCK N MARSHALL ST<br>District: 26","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 2500 BLOCK N CORLIES ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 2500 BLOCK N CORLIES ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 5:00 (Late Night (12am-6am))<br>Location: 2500 BLOCK N CORLIES ST<br>District: 22","<strong>Homicide<\/strong><br>Date: NA<br>Time: 13:00 (Afternoon (12pm-6pm))<br>Location: 1500 BLOCK E PASTORIUS ST<br>District: 14","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00 (Afternoon (12pm-6pm))<br>Location: 7100 BLOCK BRANT PL<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 16:00 (Afternoon (12pm-6pm))<br>Location: 3000 BLOCK N LEITHGOW ST<br>District: 25","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 2600 BLOCK LATONA ST<br>District: 17","<strong>Homicide<\/strong><br>Date: NA<br>Time: 18:00 (Evening (6pm-12am))<br>Location: 1000 BLOCK WAGNER AV<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 21:00 (Evening (6pm-12am))<br>Location: 5900 BLOCK LUDLOW ST<br>District: 18","<strong>Homicide<\/strong><br>Date: NA<br>Time: 0:00 (Late Night (12am-6am))<br>Location: 2100 BLOCK CONLYN ST<br>District: 35","<strong>Homicide<\/strong><br>Date: NA<br>Time: 15:00 (Afternoon (12pm-6pm))<br>Location: 2200 BLOCK S FELTON ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 17:00 (Afternoon (12pm-6pm))<br>Location: 2200 BLOCK S FELTON ST<br>District: 12","<strong>Homicide<\/strong><br>Date: NA<br>Time: 23:00 (Evening (6pm-12am))<br>Location: 1800 BLOCK E SOMERSET ST<br>District: 24","<strong>Homicide<\/strong><br>Date: NA<br>Time: 8:00 (Morning (6am-12pm))<br>Location: 1800 BLOCK E CAMBRIA ST<br>District: 24"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":[[],["Morning (6am-12pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Late Night (12am-6am)"],{"collapsed":false,"autoZIndex":true,"position":"topright"}]},{"method":"addLegend","args":[{"colors":["#FFC107","#FF9800","#F44336","#880E4F"],"labels":["Morning (6am-12pm)","Afternoon (12pm-6pm)","Evening (6pm-12am)","Late Night (12am-6am)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"Time of Day","extra":null,"layerId":null,"className":"info legend","group":null}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]}],"limits":{"lat":[39.903834600793,40.076830892162],"lng":[-75.25240849498,-75.020121683173]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveWidget</span>(map_time, <span class="st">"philadelphia_homicides_timeofday.html"</span>, <span class="at">selfcontained =</span> <span class="cn">TRUE</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Map saved to: philadelphia_homicides_timeofday.html</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Map saved to: philadelphia_homicides_timeofday.html</code></pre>
</div>
</div>
<p><strong>Question:</strong> Toggle the different time periods on/off. Do spatial patterns vary by time of day?</p>
<p><strong>ANSWER:</strong> Yes, spatial patterns show temporal variation: - <strong>Late night homicides</strong> (12am-6am) are the most common and appear concentrated in specific areas - <strong>Morning homicides</strong> (6am-12pm) are least common and more dispersed - <strong>Evening homicides</strong> (6pm-12am) show moderate clustering - Some districts show more variation by time than others</p>
<p><strong>NOTE:</strong> This spatiotemporal pattern suggests: 1. Different causal mechanisms may be at work at different times 2. Nighttime economy (bars, clubs) may concentrate risk 3. Targeted interventions could be time-specific 4. Resource allocation (police patrols) should consider temporal patterns</p>
<hr>
</section>
<section id="task-3.5-map-by-police-district" class="level2">
<h2 class="anchored" data-anchor-id="task-3.5-map-by-police-district">Task 3.5: Map by Police District</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count homicides by district</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>district_summary <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(dc_dist, <span class="at">name =</span> <span class="st">"homicides"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(homicides))</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(district_summary,</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Homicides by Police District (Geocoded Cases Only)"</span>,</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"District"</span>, <span class="st">"Homicides"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Homicides by Police District (Geocoded Cases Only)</caption>
<thead>
<tr class="header">
<th style="text-align: left;">District</th>
<th style="text-align: right;">Homicides</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">22</td>
<td style="text-align: right;">27</td>
</tr>
<tr class="even">
<td style="text-align: left;">25</td>
<td style="text-align: right;">25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">24</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">35</td>
<td style="text-align: right;">14</td>
</tr>
<tr class="even">
<td style="text-align: left;">15</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">39</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">16</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">18</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">03</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">02</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">17</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">26</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">05</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">09</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">01</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">08</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">07</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create district-colored map</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>district_colors <span class="ot">&lt;-</span> <span class="fu">colorFactor</span>(</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="st">"Set3"</span>,</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">domain =</span> homicides_sf<span class="sc">$</span>dc_dist</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>map_districts <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>CartoDB.Positron) <span class="sc">%&gt;%</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste0</span>(</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;strong&gt;District "</span>, dc_dist, <span class="st">"&lt;/strong&gt;&lt;br&gt;"</span>,</span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Date: "</span>, dispatch_date, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Time: "</span>, hour, <span class="st">":00&lt;br&gt;"</span>,</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Location: "</span>, location_block</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">6</span>,</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span><span class="fu">district_colors</span>(dc_dist),</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">district_colors</span>(dc_dist),</span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">2</span>,</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"District"</span>, dc_dist)</span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLayersControl</span>(</span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">overlayGroups =</span> <span class="fu">unique</span>(<span class="fu">paste</span>(<span class="st">"District"</span>, <span class="fu">sort</span>(homicides_sf<span class="sc">$</span>dc_dist))),</span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">layersControlOptions</span>(<span class="at">collapsed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb66-27"><a href="#cb66-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb66-28"><a href="#cb66-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(</span>
<span id="cb66-29"><a href="#cb66-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"topright"</span>,</span>
<span id="cb66-30"><a href="#cb66-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">pal =</span> district_colors,</span>
<span id="cb66-31"><a href="#cb66-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="sc">~</span>dc_dist,</span>
<span id="cb66-32"><a href="#cb66-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Police District"</span>,</span>
<span id="cb66-33"><a href="#cb66-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span></span>
<span id="cb66-34"><a href="#cb66-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb66-35"><a href="#cb66-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-36"><a href="#cb66-36" aria-hidden="true" tabindex="-1"></a>map_districts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-f84c98c98802a955dccc" style="width:100%;height:520px;"></div>
<script type="application/json" data-for="htmlwidget-f84c98c98802a955dccc">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[39.94747962078,40.01259568692,40.017971230814,40.007516928887,39.998127744116,40.008597301754,39.992101994431,39.9960174563,40.00430659017,39.993983892237,39.967147967753,39.995790872912,40.030383537135,39.932155037188,40.040176882951,40.040176882951,39.965610504353,39.910691636573,39.939273944634,39.992827097019,40.054690705373,40.009619679212,39.987375711922,40.019821905307,39.9836596062,40.031207301584,39.993052202478,40.043548849373,39.948352131293,40.043704250251,40.001763621974,39.996690852573,39.992039453875,40.074153766346,39.928395859507,40.029695638451,39.994450832749,39.969702623028,40.023820376301,39.961663327043,39.952528780154,40.027301445585,39.963579995275,39.989496420174,39.921247003038,39.967864898717,39.992853731308,39.961914517042,39.974048051788,40.029625580112,39.997527845345,39.911354965256,40.020731116266,40.003089520787,39.988506631401,39.961875504864,39.903834600793,40.007301065335,39.95035066654,39.993117873885,40.020728815512,39.965077428385,39.949035693269,39.967270474542,39.976851832696,39.991509018801,39.976734895701,39.982688690105,39.999885853733,39.986265983043,39.966775258794,40.006579934912,39.990707059472,39.994001868239,39.969142334412,40.032236396316,39.934466363809,39.934466363809,39.934466363809,40.026268723104,39.976834340752,40.062244913469,39.928715536889,39.951611363235,39.941523993124,39.99292094246,39.995125758013,40.03915613702,39.927709041825,39.986905203365,39.990126885346,39.99261126527,39.986972007267,39.99807382079,40.00286168993,40.009602984644,40.006785862171,40.015023192515,40.021959768662,40.018839925206,39.973689348127,40.025523827555,39.979909094843,39.960412347155,39.946831443371,40.040256295068,39.967217947996,39.984582720794,39.995414196479,39.997155837219,39.97785988102,40.014863841586,39.956902465817,39.950152426279,39.948128376182,39.973807392252,39.995131083479,39.994130320524,39.986338107426,39.967016829465,39.991030101913,39.997708553623,39.995967903774,39.925943025172,40.043256215487,40.007024077332,40.000467654618,39.976051055734,39.926662546529,39.993528730861,40.025109933164,40.076192441161,40.043857337781,39.915313876437,40.033054545206,40.033054545206,40.033565485464,39.910685785211,39.938525800709,39.931234755494,39.991669828231,39.967306898881,40.005471865003,40.035769998414,39.933550008529,39.917125004747,39.990613402488,40.045522743099,40.050538093662,40.031470943975,40.001048758733,40.02501388784,40.070676504094,39.935968142421,39.92791391124,39.979682594781,40.00286168993,39.985496454905,39.985496454905,40.03923553523,40.008351742521,40.031423926033,39.965064543017,40.019800613382,39.933396973264,40.000400762644,39.968878375695,39.997381152849,40.046329467112,40.060740580583,39.989234296485,40.01359801207,40.01359801207,40.01359801207,40.022845763328,39.995131083479,39.923630084498,39.987669885422,40.005489774894,39.939812079354,39.985293841546,40.027890944761,40.026023215416,39.932874948814,39.998283459349,40.076830892162,40.058969036132,39.944053010362,39.987940050129,39.99431203796,39.99431203796,39.99431203796,40.058403201621,39.911131130249,39.996543942006,39.937363820451,40.035241471884,39.960898396138,40.042772968068,39.927709041825,39.927709041825,39.991349430384,39.992195511231],[-75.161725532601,-75.087597346995,-75.076143087811,-75.09096415867801,-75.11298443111301,-75.098368028019,-75.139759850442,-75.131468619103,-75.14936034221201,-75.1308657771,-75.233722736853,-75.121060476181,-75.1318893168,-75.219124070893,-75.020121683173,-75.020121683173,-75.244123815728,-75.165747514757,-75.217505754242,-75.181829264724,-75.07054020929699,-75.16731380039801,-75.165059221044,-75.124127589785,-75.184878060956,-75.15144378436101,-75.16304477024001,-75.103235973636,-75.239633543803,-75.13748151526499,-75.12919815030099,-75.115386013924,-75.140283873331,-75.158522417905,-75.23291848764801,-75.151768089938,-75.113735705308,-75.213040240536,-75.17679767915401,-75.238868748271,-75.165312187675,-75.145121413166,-75.2286669385,-75.132353006727,-75.231570127612,-75.19831028231,-75.133072446835,-75.24084797051,-75.20437655537501,-75.094351798947,-75.115210526224,-75.170438714105,-75.118236721305,-75.20482382813201,-75.18544361261699,-75.226578317394,-75.24057934383301,-75.086821889901,-75.16029458016401,-75.124124977243,-75.08011010461,-75.205570352225,-75.16219715137299,-75.245875391005,-75.16573774637099,-75.12254121666101,-75.164950131414,-75.165272566675,-75.118702506852,-75.168036975034,-75.241856689541,-75.10095053811899,-75.14260550797999,-75.118026486847,-75.21584294266999,-75.030926102781,-75.190044693567,-75.190044693567,-75.190044693567,-75.109814421895,-75.25240849498,-75.151852786204,-75.152118857189,-75.170420223671,-75.220180475788,-75.15980889649499,-75.164178226201,-75.174328071612,-75.23114364154,-75.16054857044,-75.160985657715,-75.131160435236,-75.182515940561,-75.112480291609,-75.13791002554601,-75.140843489909,-75.14312521250299,-75.147286119531,-75.151850888201,-75.115349871148,-75.217978101447,-75.14226578492899,-75.21935298613801,-75.235115766977,-75.239939837595,-75.12285122436499,-75.20571166964601,-75.167141953377,-75.130005645393,-75.166471247632,-75.16228165946499,-75.085535174699,-75.22560287768,-75.233095328446,-75.23350120864301,-75.206897116557,-75.17594779223499,-75.11138998481501,-75.175668743995,-75.208289015429,-75.11204443135,-75.13059904991501,-75.16979212456199,-75.18225937259901,-75.18099039924699,-75.14710554556,-75.11922609311,-75.159527338625,-75.19052659402401,-75.126434949642,-75.139088592231,-75.197444715126,-75.22863779459701,-75.160582727529,-75.106924188345,-75.106924188345,-75.04027728149001,-75.24081060376,-75.15640310842301,-75.17808313080801,-75.17983378149501,-75.19820678196101,-75.108691215349,-75.226833130138,-75.231538842734,-75.23743364522799,-75.18502919861599,-75.22951476847901,-75.15469060941101,-75.06326172288,-75.20714166978701,-75.114591399308,-75.241117401254,-75.21940157471801,-75.155544697344,-75.109456443955,-75.13791002554601,-75.16303585723099,-75.16303585723099,-75.128066517527,-75.15643642802,-75.06631497829601,-75.215344275539,-75.15352367118101,-75.225863299636,-75.106424689368,-75.232311458777,-75.16809966703499,-75.18526109383799,-75.16099945696099,-75.126455802791,-75.158716257566,-75.158716257566,-75.158716257566,-75.12822778231801,-75.17594779223499,-75.154881433887,-75.14192366119001,-75.14598287039701,-75.172989445146,-75.184520729539,-75.136825072836,-75.04323202011101,-75.230731352969,-75.11504474152299,-75.07474605578901,-75.08501851556299,-75.22819095432401,-75.144060858394,-75.181496374426,-75.181496374426,-75.181496374426,-75.161134668636,-75.234218861969,-75.137869062777,-75.18725419662999,-75.13876995624599,-75.23903081254301,-75.15721301197,-75.23114364154,-75.23114364154,-75.122577715519,-75.119963746057],6,null,["District 12","District 15","District 15","District 15","District 24","District 24","District 25","District 25","District 25","District 25","District 19","District 24","District 35","District 12","District 08","District 08","District 19","District 03","District 12","District 22","District 02","District 39","District 22","District 25","District 22","District 35","District 22","District 02","District 18","District 35","District 25","District 24","District 25","District 14","District 12","District 35","District 24","District 16","District 39","District 18","District 09","District 35","District 19","District 26","District 12","District 16","District 25","District 18","District 16","District 02","District 24","District 03","District 25","District 19","District 22","District 19","District 12","District 15","District 09","District 24","District 15","District 16","District 09","District 19","District 22","District 24","District 22","District 22","District 25","District 22","District 19","District 24","District 26","District 24","District 16","District 15","District 17","District 17","District 17","District 15","District 19","District 14","District 03","District 09","District 12","District 22","District 39","District 14","District 12","District 22","District 22","District 25","District 22","District 24","District 25","District 25","District 25","District 25","District 35","District 25","District 19","District 35","District 19","District 18","District 18","District 35","District 16","District 22","District 25","District 39","District 22","District 15","District 18","District 18","District 12","District 16","District 22","District 24","District 22","District 16","District 24","District 25","District 39","District 01","District 14","District 25","District 25","District 22","District 01","District 24","District 35","District 14","District 05","District 03","District 02","District 02","District 15","District 12","District 03","District 17","District 22","District 16","District 24","District 05","District 12","District 12","District 22","District 05","District 35","District 15","District 19","District 25","District 05","District 12","District 03","District 24","District 25","District 22","District 22","District 35","District 39","District 15","District 16","District 39","District 12","District 24","District 19","District 39","District 14","District 14","District 26","District 39","District 39","District 39","District 25","District 22","District 03","District 26","District 25","District 17","District 22","District 35","District 15","District 12","District 24","District 07","District 02","District 12","District 26","District 22","District 22","District 22","District 14","District 12","District 25","District 17","District 35","District 18","District 35","District 12","District 12","District 24","District 24"],{"interactive":true,"className":"","stroke":true,"color":["#8BB1CD","#EFBE63","#EFBE63","#EFBE63","#C69CC6","#C69CC6","#C29DC0","#C29DC0","#C29DC0","#C29DC0","#EAD4DF","#C69CC6","#E5ECA2","#8BB1CD","#F7877D","#F7877D","#EAD4DF","#F6F4BA","#8BB1CD","#D6D0D6","#D3ECBC","#FFED6F","#D6D0D6","#C29DC0","#D6D0D6","#E5ECA2","#D6D0D6","#D3ECBC","#F9CEDF","#E5ECA2","#C29DC0","#C69CC6","#C29DC0","#DAB38E","#8BB1CD","#E5ECA2","#C69CC6","#C5D667","#FFED6F","#F9CEDF","#CE9A9F","#E5ECA2","#EAD4DF","#CBDAC4","#8BB1CD","#C5D667","#C29DC0","#F9CEDF","#C5D667","#D3ECBC","#C69CC6","#F6F4BA","#C29DC0","#EAD4DF","#D6D0D6","#EAD4DF","#8BB1CD","#EFBE63","#CE9A9F","#C69CC6","#EFBE63","#C5D667","#CE9A9F","#EAD4DF","#D6D0D6","#C69CC6","#D6D0D6","#D6D0D6","#C29DC0","#D6D0D6","#EAD4DF","#C69CC6","#CBDAC4","#C69CC6","#C5D667","#EFBE63","#D1D999","#D1D999","#D1D999","#EFBE63","#EAD4DF","#DAB38E","#F6F4BA","#CE9A9F","#8BB1CD","#D6D0D6","#FFED6F","#DAB38E","#8BB1CD","#D6D0D6","#D6D0D6","#C29DC0","#D6D0D6","#C69CC6","#C29DC0","#C29DC0","#C29DC0","#C29DC0","#E5ECA2","#C29DC0","#EAD4DF","#E5ECA2","#EAD4DF","#F9CEDF","#F9CEDF","#E5ECA2","#C5D667","#D6D0D6","#C29DC0","#FFED6F","#D6D0D6","#EFBE63","#F9CEDF","#F9CEDF","#8BB1CD","#C5D667","#D6D0D6","#C69CC6","#D6D0D6","#C5D667","#C69CC6","#C29DC0","#FFED6F","#8DD3C7","#DAB38E","#C29DC0","#C29DC0","#D6D0D6","#8DD3C7","#C69CC6","#E5ECA2","#DAB38E","#D1CCD1","#F6F4BA","#D3ECBC","#D3ECBC","#EFBE63","#8BB1CD","#F6F4BA","#D1D999","#D6D0D6","#C5D667","#C69CC6","#D1CCD1","#8BB1CD","#8BB1CD","#D6D0D6","#D1CCD1","#E5ECA2","#EFBE63","#EAD4DF","#C29DC0","#D1CCD1","#8BB1CD","#F6F4BA","#C69CC6","#C29DC0","#D6D0D6","#D6D0D6","#E5ECA2","#FFED6F","#EFBE63","#C5D667","#FFED6F","#8BB1CD","#C69CC6","#EAD4DF","#FFED6F","#DAB38E","#DAB38E","#CBDAC4","#FFED6F","#FFED6F","#FFED6F","#C29DC0","#D6D0D6","#F6F4BA","#CBDAC4","#C29DC0","#D1D999","#D6D0D6","#E5ECA2","#EFBE63","#8BB1CD","#C69CC6","#D8A9B8","#D3ECBC","#8BB1CD","#CBDAC4","#D6D0D6","#D6D0D6","#D6D0D6","#DAB38E","#8BB1CD","#C29DC0","#D1D999","#E5ECA2","#F9CEDF","#E5ECA2","#8BB1CD","#8BB1CD","#C69CC6","#C69CC6"],"weight":2,"opacity":0.5,"fill":true,"fillColor":["#8BB1CD","#EFBE63","#EFBE63","#EFBE63","#C69CC6","#C69CC6","#C29DC0","#C29DC0","#C29DC0","#C29DC0","#EAD4DF","#C69CC6","#E5ECA2","#8BB1CD","#F7877D","#F7877D","#EAD4DF","#F6F4BA","#8BB1CD","#D6D0D6","#D3ECBC","#FFED6F","#D6D0D6","#C29DC0","#D6D0D6","#E5ECA2","#D6D0D6","#D3ECBC","#F9CEDF","#E5ECA2","#C29DC0","#C69CC6","#C29DC0","#DAB38E","#8BB1CD","#E5ECA2","#C69CC6","#C5D667","#FFED6F","#F9CEDF","#CE9A9F","#E5ECA2","#EAD4DF","#CBDAC4","#8BB1CD","#C5D667","#C29DC0","#F9CEDF","#C5D667","#D3ECBC","#C69CC6","#F6F4BA","#C29DC0","#EAD4DF","#D6D0D6","#EAD4DF","#8BB1CD","#EFBE63","#CE9A9F","#C69CC6","#EFBE63","#C5D667","#CE9A9F","#EAD4DF","#D6D0D6","#C69CC6","#D6D0D6","#D6D0D6","#C29DC0","#D6D0D6","#EAD4DF","#C69CC6","#CBDAC4","#C69CC6","#C5D667","#EFBE63","#D1D999","#D1D999","#D1D999","#EFBE63","#EAD4DF","#DAB38E","#F6F4BA","#CE9A9F","#8BB1CD","#D6D0D6","#FFED6F","#DAB38E","#8BB1CD","#D6D0D6","#D6D0D6","#C29DC0","#D6D0D6","#C69CC6","#C29DC0","#C29DC0","#C29DC0","#C29DC0","#E5ECA2","#C29DC0","#EAD4DF","#E5ECA2","#EAD4DF","#F9CEDF","#F9CEDF","#E5ECA2","#C5D667","#D6D0D6","#C29DC0","#FFED6F","#D6D0D6","#EFBE63","#F9CEDF","#F9CEDF","#8BB1CD","#C5D667","#D6D0D6","#C69CC6","#D6D0D6","#C5D667","#C69CC6","#C29DC0","#FFED6F","#8DD3C7","#DAB38E","#C29DC0","#C29DC0","#D6D0D6","#8DD3C7","#C69CC6","#E5ECA2","#DAB38E","#D1CCD1","#F6F4BA","#D3ECBC","#D3ECBC","#EFBE63","#8BB1CD","#F6F4BA","#D1D999","#D6D0D6","#C5D667","#C69CC6","#D1CCD1","#8BB1CD","#8BB1CD","#D6D0D6","#D1CCD1","#E5ECA2","#EFBE63","#EAD4DF","#C29DC0","#D1CCD1","#8BB1CD","#F6F4BA","#C69CC6","#C29DC0","#D6D0D6","#D6D0D6","#E5ECA2","#FFED6F","#EFBE63","#C5D667","#FFED6F","#8BB1CD","#C69CC6","#EAD4DF","#FFED6F","#DAB38E","#DAB38E","#CBDAC4","#FFED6F","#FFED6F","#FFED6F","#C29DC0","#D6D0D6","#F6F4BA","#CBDAC4","#C29DC0","#D1D999","#D6D0D6","#E5ECA2","#EFBE63","#8BB1CD","#C69CC6","#D8A9B8","#D3ECBC","#8BB1CD","#CBDAC4","#D6D0D6","#D6D0D6","#D6D0D6","#DAB38E","#8BB1CD","#C29DC0","#D1D999","#E5ECA2","#F9CEDF","#E5ECA2","#8BB1CD","#8BB1CD","#C69CC6","#C69CC6"],"fillOpacity":0.7},null,null,["<strong>District 12<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 200 BLOCK S CAMAC ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 4400 BLOCK FRANKFORD A","<strong>District 15<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 1800 BLOCK WAKELNG ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4100 BLOCK FRANKFORD AV","<strong>District 24<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 3300 BLOCK \"H\" ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 1500 BLOCK E LYCOMING ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 2700 BLOCK N ORKNEYST","<strong>District 25<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 100 BLOCK W TUSCULUM ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 3400 BLOCK GERMANTOWN AV","<strong>District 25<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 100 BLOCK W CAMBRIA ST","<strong>District 19<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 400 BLOCK N 57TH ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 500 BLOCK E CLEARFIELD ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 5200 BLOCK N 5TH ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5600 BLOCK GRAYS AV","<strong>District 08<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4500 BLOCK ENFIELD AV","<strong>District 08<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4500 BLOCK ENFIELD AV","<strong>District 19<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 200 BLOCK N 62ND ST","<strong>District 03<\/strong><br>Date: NA<br>Time: 8:00<br>Location: 1000 BLOCK PACKER AV","<strong>District 12<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 5200 BLOCK GREENWAY AVE","<strong>District 22<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 2400 BLOCK N CORLIES ST","<strong>District 02<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 1700 BLOCK TEESDALE ST","<strong>District 39<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 2300 BLOCK HUNTING PARK AV","<strong>District 22<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 1900 BLOCK W SUSQUEHANNA AV","<strong>District 25<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 100 BLOCK E COURTLAND ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 3100 BLOCK W MONTGOMERY AV","<strong>District 35<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1700 BLOCK LINDLEY AV","<strong>District 22<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1900 BLOCK MARGIE ST","<strong>District 02<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 500 BLOCK ALCOTT ST","<strong>District 18<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5800 BLOCK MONTROSE ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 6000 BLOCK WARNOCK ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3400 BLOCK N HOPE ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 800 BLOCK E ALLEGHENY AV","<strong>District 25<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 500 BLOCK W LEHIGH AV","<strong>District 14<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2500 BLOCK W CHELTENHAM AV","<strong>District 12<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2100 BLOCK CEMETERY AV","<strong>District 35<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 1700 BLOCK W RUSCOMB ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3100 BLOCK JASPER ST","<strong>District 16<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 4500 BLOCK LANCASTER AV","<strong>District 39<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 500 BLOCK W QUEEN LN","<strong>District 18<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5900 BLOCK MARKET ST","<strong>District 09<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 1500 BLOCK MARKET ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1300 BLOCK W ROCKLAND ST","<strong>District 19<\/strong><br>Date: NA<br>Time: 14:00<br>Location: 5400 BLOCK RACE ST","<strong>District 26<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2600 BLOCK N HOWARD ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 6600 BLOCK ELMWOOD AV","<strong>District 16<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 3800 BLOCK BROWN ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 2800 BLOCK N MUTTER ST","<strong>District 18<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 6000 BLOCK MARKET ST","<strong>District 16<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 4000 BLOCK W GIRARD AV","<strong>District 02<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 5000 BLOCK SUMMERDALE AV","<strong>District 24<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 800 BLOCK E MADISON ST","<strong>District 03<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1300 BLOCK PACKER AV","<strong>District 25<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 400 BLOCK E WYOMING AV","<strong>District 19<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 3800 BLOCK CONSHOHOCKEN","<strong>District 22<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2100 BLOCK N 32ND ST","<strong>District 19<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 100 BLOCK N 53RD ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 2900 BLOCK ISLAND AV","<strong>District 15<\/strong><br>Date: NA<br>Time: 12:00<br>Location: 4200 BLOCK TORRESDALE AV","<strong>District 09<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1200 BLOCK CHESTNUT ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 400 BLOCK E CAMBRIA ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 5000 BLOCK FRANKFORD AVE","<strong>District 16<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 4100 BLOCK LANCASTER AVE","<strong>District 09<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 1300 BLOCK WALNUT ST","<strong>District 19<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 300 BLOCK N 63RD ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1500 BLOCK N GRATZ ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2800 BLOCK KENSINGTON AV","<strong>District 22<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 1500 BLOCK N 18TH ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 1900 BLOCK W BERKS ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 600 BLOCK E THAYER ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 2100 BLOCK N 21ST ST","<strong>District 19<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 6100 BLOCK VINE ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 3900 BLOCK M ST","<strong>District 26<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 600 BLOCK W HUNTINGDON ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3000 BLOCK KENSINGTON AV","<strong>District 16<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 900 BLOCK N 47TH ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 4700 BLOCK SHELMIRE AV","<strong>District 17<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1500 BLOCK S ETTING ST","<strong>District 17<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1500 BLOCK S ETTING ST","<strong>District 17<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1500 BLOCK S ETTING ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 700 BLOCK JERICHO RD","<strong>District 19<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 900 BLOCK N 66TH ST","<strong>District 14<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 7100 BLOCK OGONTZ AV","<strong>District 03<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 400 BLOCK CROSS ST","<strong>District 09<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 100 BLOCK S 18TH ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 1300 BLOCK S 52ND ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 1700 BLOCK W HUNTINGDON ST","<strong>District 39<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2000 BLOCK W LEHIGH AV","<strong>District 14<\/strong><br>Date: NA<br>Time: 6:00<br>Location: 200 BLOCK E RITTENHOUSE ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 2200 BLOCK S FELTON ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 2200 BLOCK N CHADWICK ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2400 BLOCK N COLORADO ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 2800 BLOCK N HOPE ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 3000 BLOCK PAGE ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 3300 BLOCK RAND ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 3400 BLOCK N 5TH ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 3800 BLOCK N FRANKLIN ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 3600 BLOCK N 9TH ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 4100 BLOCK OLD YORK RD","<strong>District 35<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 4500 BLOCK N 16TH ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 4600 BLOCK WHITAKER AV","<strong>District 19<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 4800 BLOCK MERION AV","<strong>District 35<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 4800 BLOCK N 11TH ST","<strong>District 19<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5000 BLOCK PARKSIDE AV","<strong>District 18<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5700 BLOCK LUDLOW ST","<strong>District 18<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 5800 BLOCK ALTER ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 6:00<br>Location: 5900 BLOCK MASCHER ST","<strong>District 16<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 800 BLOCK N 41ST ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 2000 BLOCK N WOODSTOCK ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 100 BLOCK W INDIANA AV","<strong>District 39<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 2800 BLOCK N VANPELT ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1600 BLOCK WILLINGTON ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 4600 BLOCK FRANKFORD AVE","<strong>District 18<\/strong><br>Date: NA<br>Time: 11:00<br>Location: 5200 BLOCK WALNUT ST","<strong>District 18<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5500 BLOCK WALTON AV","<strong>District 12<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 800 BLOCK S 55TH ST","<strong>District 16<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 4100 BLOCK LEIDY AV","<strong>District 22<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 2600 BLOCK N 27TH ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2000 BLOCK E ALLEGHENY AV","<strong>District 22<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2000 BLOCK N BAMBREY ST","<strong>District 16<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 800 BLOCK BROOKLYN ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 3100 BLOCK AMBER ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 100 BLOCK W LIPPINCOTT ST","<strong>District 39<\/strong><br>Date: NA<br>Time: 12:00<br>Location: 2700 BLOCK N BONSALL ST","<strong>District 01<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2100 BLOCK S BEECHWOOD ST","<strong>District 14<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 6300 BLOCK GERMANTOWN AV","<strong>District 25<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 1100 BLOCK W VENANGO ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 3400 BLOCK HARTVILLE ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 1500 BLOCK N CARLISLE ST","<strong>District 01<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2100 BLOCK BAILEY TER","<strong>District 24<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 2900 BLOCK B ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 4800 BLOCK N 9TH ST","<strong>District 14<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 400 BLOCK E ABINGTON AV","<strong>District 05<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 7000 BLOCK RIDGE AV","<strong>District 03<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 700 BLOCK OREGON AV","<strong>District 02<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 700 BLOCK ADAMS AV","<strong>District 02<\/strong><br>Date: NA<br>Time: 4:00<br>Location: 700 BLOCK ADAMS AV","<strong>District 15<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 7200 BLOCK WALKER ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 7400 BLOCK DICKS AV","<strong>District 03<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 900 BLOCK S 8TH ST","<strong>District 17<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 2000 BLOCK FERNON ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 12:00<br>Location: 2900 BLOCK W GORDON ST","<strong>District 16<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 3800 BLOCK FOLSOM ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 3800 BLOCK PALMETTO ST","<strong>District 05<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 4800 BLOCK TIBBEN ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 6000 BLOCK CHESTER AV","<strong>District 12<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 7000 BLOCK ELMWOOD AV","<strong>District 22<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 3200 BLOCK RIDGE AV","<strong>District 05<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 500 BLOCK WARTMAN ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 6300 BLOCK N LAMBERT ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2900 BLOCK LEVICK ST","<strong>District 19<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 3900 BLOCK LANKENAU AV","<strong>District 25<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 5000 BLOCK RORER ST","<strong>District 05<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 800 BLOCK BELLS MILL RD","<strong>District 12<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1800 BLOCK S YEWDALL ST","<strong>District 03<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 600 BLOCK MOUNTAIN ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 2900 BLOCK SALMON ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 3400 BLOCK N 5TH ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1800 BLOCK W DIAMOND ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 1800 BLOCK W DIAMOND ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 400 BLOCK W GRANGE AV","<strong>District 39<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 3600 BLOCK N 17TH ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 6300 BLOCK REVERE ST","<strong>District 16<\/strong><br>Date: NA<br>Time: 10:00<br>Location: 700 BLOCK N 47TH ST","<strong>District 39<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 1600 BLOCK ROWAN ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 2100 BLOCK S 58TH ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 3500 BLOCK KENSINGTON AV","<strong>District 19<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 600 BLOCK N 56TH ST","<strong>District 39<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 2800 BLOCK N CROSKEY ST","<strong>District 14<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 100 BLOCK W UPSAL ST","<strong>District 14<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 1600 BLOCK E TULPEHOCKEN ST","<strong>District 26<\/strong><br>Date: NA<br>Time: 9:00<br>Location: 1800 BLOCK E ALBERT ST","<strong>District 39<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 1900 BLOCK W HUNTING PARK AV","<strong>District 39<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 1900 BLOCK W HUNTING PARK AV","<strong>District 39<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 1900 BLOCK W HUNTING PARK AV","<strong>District 25<\/strong><br>Date: NA<br>Time: 22:00<br>Location: 200 BLOCK W MENTOR ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2600 BLOCK N 27TH ST","<strong>District 03<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 2000 BLOCK S 5TH ST","<strong>District 26<\/strong><br>Date: NA<br>Time: 14:00<br>Location: 2400 BLOCK N REESE ST","<strong>District 25<\/strong><br>Date: NA<br>Time: 2:00<br>Location: 3500 BLOCK N WARNOCK ST","<strong>District 17<\/strong><br>Date: NA<br>Time: 1:00<br>Location: 1000 BLOCK S 18TH ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 1900 BLOCK N 31ST ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 5000 BLOCK N FRANKLIN ST","<strong>District 15<\/strong><br>Date: NA<br>Time: 7:00<br>Location: 6900 BLOCK TORRESDALE AV","<strong>District 12<\/strong><br>Date: NA<br>Time: 3:00<br>Location: 6000 BLOCK ALLMAN ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 20:00<br>Location: 800 BLOCK E WESTMORELAND ST","<strong>District 07<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 800 BLOCK EMERSON ST","<strong>District 02<\/strong><br>Date: NA<br>Time: 19:00<br>Location: 7200 BLOCK OXFORD AVE","<strong>District 12<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 1100 BLOCK S 54TH ST","<strong>District 26<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2400 BLOCK N MARSHALL ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 2500 BLOCK N CORLIES ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 2500 BLOCK N CORLIES ST","<strong>District 22<\/strong><br>Date: NA<br>Time: 5:00<br>Location: 2500 BLOCK N CORLIES ST","<strong>District 14<\/strong><br>Date: NA<br>Time: 13:00<br>Location: 1500 BLOCK E PASTORIUS ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 7100 BLOCK BRANT PL","<strong>District 25<\/strong><br>Date: NA<br>Time: 16:00<br>Location: 3000 BLOCK N LEITHGOW ST","<strong>District 17<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 2600 BLOCK LATONA ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 18:00<br>Location: 1000 BLOCK WAGNER AV","<strong>District 18<\/strong><br>Date: NA<br>Time: 21:00<br>Location: 5900 BLOCK LUDLOW ST","<strong>District 35<\/strong><br>Date: NA<br>Time: 0:00<br>Location: 2100 BLOCK CONLYN ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 15:00<br>Location: 2200 BLOCK S FELTON ST","<strong>District 12<\/strong><br>Date: NA<br>Time: 17:00<br>Location: 2200 BLOCK S FELTON ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 23:00<br>Location: 1800 BLOCK E SOMERSET ST","<strong>District 24<\/strong><br>Date: NA<br>Time: 8:00<br>Location: 1800 BLOCK E CAMBRIA ST"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":[[],["District 01","District 02","District 03","District 05","District 07","District 08","District 09","District 12","District 14","District 15","District 16","District 17","District 18","District 19","District 22","District 24","District 25","District 26","District 35","District 39"],{"collapsed":false,"autoZIndex":true,"position":"topright"}]},{"method":"addLegend","args":[{"colors":["#8DD3C7","#D3ECBC","#F6F4BA","#D1CCD1","#D8A9B8","#F7877D","#CE9A9F","#8BB1CD","#DAB38E","#EFBE63","#C5D667","#D1D999","#F9CEDF","#EAD4DF","#D6D0D6","#C69CC6","#C29DC0","#CBDAC4","#E5ECA2","#FFED6F"],"labels":["01","02","03","05","07","08","09","12","14","15","16","17","18","19","22","24","25","26","35","39"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"Police District","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[39.903834600793,40.076830892162],"lng":[-75.25240849498,-75.020121683173]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Question:</strong> Which 3 police districts have the highest number of homicides?</p>
<p><strong>ANSWER:</strong> Based on the district summary table: 1. District <strong>22</strong>: <strong>27</strong> homicides 2. District <strong>25</strong>: <strong>25</strong> homicides 3. District <strong>24</strong>: <strong>20</strong> homicides</p>
<p><strong>NOTE:</strong> These top districts account for 35.5% of all geocoded homicides. This concentration suggests resource allocation should be targeted to high-burden areas.</p>
<hr>
</section>
</section>
<section id="part-4-temporal-analysis" class="level1">
<h1>Part 4: Temporal Analysis</h1>
<section id="task-4.1-homicides-by-time-of-day" class="level2">
<h2 class="anchored" data-anchor-id="task-4.1-homicides-by-time-of-day">Task 4.1: Homicides by Time of Day</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count by time period</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>time_summary <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(time_period) <span class="sc">%&gt;%</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">percentage =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(time_summary,</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Homicides by Time of Day"</span>,</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Time Period"</span>, <span class="st">"Count"</span>, <span class="st">"Percentage"</span>),</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">digits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Homicides by Time of Day</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Time Period</th>
<th style="text-align: right;">Count</th>
<th style="text-align: right;">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Morning (6am-12pm)</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">15.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afternoon (12pm-6pm)</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">18.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Evening (6pm-12am)</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">36.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Late Night (12am-6am)</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">29.6</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(time_summary, <span class="fu">aes</span>(<span class="at">x =</span> time_period, <span class="at">y =</span> n, <span class="at">fill =</span> time_period)) <span class="sc">+</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(n, <span class="st">"</span><span class="sc">\n</span><span class="st">("</span>, <span class="fu">round</span>(percentage, <span class="dv">1</span>), <span class="st">"%)"</span>)), </span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FFC107"</span>, <span class="st">"#FF9800"</span>, <span class="st">"#F44336"</span>, <span class="st">"#880E4F"</span>)) <span class="sc">+</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Philadelphia Homicides by Time of Day (2025)"</span>,</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Total geocoded homicides:"</span>, <span class="fu">sum</span>(time_summary<span class="sc">$</span>n)),</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Time Period"</span>,</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Homicides"</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">20</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="fu">max</span>(time_summary<span class="sc">$</span>n) <span class="sc">*</span> <span class="fl">1.15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ex1_files/figure-html/time-analysis-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p><strong>Question:</strong> During which time period do most homicides occur?</p>
<p><strong>ANSWER:</strong> Most homicides occur during <strong>Evening (6pm-12am)</strong>, accounting for <strong>36.5%</strong> of all homicides (n = 74).</p>
<p><strong>NOTE:</strong> The concentration of homicides in late night/evening hours suggests: - Role of nighttime economy (bars, social gatherings) - Reduced guardianship (fewer witnesses, police) - Alcohol involvement likely - Different intervention strategies needed for different times</p>
<hr>
</section>
<section id="task-4.2-homicides-by-month" class="level2">
<h2 class="anchored" data-anchor-id="task-4.2-homicides-by-month">Task 4.2: Homicides by Month</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create month variable</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>homicides_monthly <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">month =</span> <span class="fu">month</span>(dispatch_date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">TRUE</span>)</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(month) <span class="sc">%&gt;%</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_num =</span> <span class="fu">match</span>(<span class="fu">as.character</span>(month), month.abb)</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(month_num)</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(homicides_monthly <span class="sc">%&gt;%</span> <span class="fu">select</span>(month, n),</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Homicides by Month"</span>,</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Month"</span>, <span class="st">"Homicides"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Homicides by Month</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Month</th>
<th style="text-align: right;">Homicides</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">203</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(homicides_monthly, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> n, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"darkred"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"darkred"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Philadelphia Homicides by Month (2025)"</span>,</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Homicides"</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="fu">max</span>(homicides_monthly<span class="sc">$</span>n) <span class="sc">*</span> <span class="fl">1.15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_line()`: Each group consists of only one observation.
ℹ Do you need to adjust the group aesthetic?</code></pre>
</div>
<div class="cell-output-display">
<p><img src="ex1_files/figure-html/monthly-analysis-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p><strong>Question:</strong> Are there seasonal patterns in homicides? Which months have the highest and lowest counts?</p>
<p><strong>ANSWER:</strong> - <strong>Highest:</strong> NA with <strong>203</strong> homicides - <strong>Lowest:</strong> NA with <strong>203</strong> homicides</p>
<hr>
</section>
<section id="task-4.3-homicides-by-day-of-week" class="level2">
<h2 class="anchored" data-anchor-id="task-4.3-homicides-by-day-of-week">Task 4.3: Homicides by Day of Week</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Day of week analysis</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>homicides_dow <span class="ot">&lt;-</span> homicides_sf <span class="sc">%&gt;%</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">day_of_week =</span> <span class="fu">wday</span>(dispatch_date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>)</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(day_of_week)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(homicides_dow,</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Homicides by Day of Week"</span>,</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Day"</span>, <span class="st">"Homicides"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Homicides by Day of Week</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Day</th>
<th style="text-align: right;">Homicides</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">203</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(homicides_dow, <span class="fu">aes</span>(<span class="at">x =</span> day_of_week, <span class="at">y =</span> n, <span class="at">fill =</span> day_of_week)) <span class="sc">+</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set3"</span>) <span class="sc">+</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Philadelphia Homicides by Day of Week (2025)"</span>,</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Day of Week"</span>,</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Homicides"</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="fu">max</span>(homicides_dow<span class="sc">$</span>n) <span class="sc">*</span> <span class="fl">1.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ex1_files/figure-html/dow-analysis-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p><strong>Question:</strong> Are homicides more common on certain days of the week?</p>
<p><strong>ANSWER:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>weekend_days <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Saturday"</span>, <span class="st">"Sunday"</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>weekend_total <span class="ot">&lt;-</span> homicides_dow <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(day_of_week <span class="sc">%in%</span> weekend_days) <span class="sc">%&gt;%</span> </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(total)</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>weekday_total <span class="ot">&lt;-</span> <span class="fu">sum</span>(homicides_dow<span class="sc">$</span>n) <span class="sc">-</span> weekend_total</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>weekend_avg <span class="ot">&lt;-</span> weekend_total <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>weekday_avg <span class="ot">&lt;-</span> weekday_total <span class="sc">/</span> <span class="dv">5</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(weekend_avg <span class="sc">&gt;</span> weekday_avg) {</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Yes, homicides are more common on weekends. Weekend days average"</span>, </span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(weekend_avg, <span class="dv">1</span>), <span class="st">"homicides compared to"</span>, <span class="fu">round</span>(weekday_avg, <span class="dv">1</span>), </span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"on weekdays.</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Homicides show relatively even distribution across days of the week, with weekend average of"</span>,</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(weekend_avg, <span class="dv">1</span>), <span class="st">"compared to weekday average of"</span>, <span class="fu">round</span>(weekday_avg, <span class="dv">1</span>), <span class="st">".</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Homicides show relatively even distribution across days of the week, with weekend average of 0 compared to weekday average of 40.6 .</code></pre>
</div>
</div>
<p><strong>NOTE:</strong> Weekend elevation (if present) likely reflects: - More social gatherings/nightlife - Alcohol consumption patterns - Reduced routine activities (work/school structure) - Different police deployment patterns</p>
<hr>
</section>
</section>
<section id="part-5-critical-reflection" class="level1">
<h1>Part 5: Critical Reflection</h1>
<section id="question-geocoding-quality-assessment" class="level2">
<h2 class="anchored" data-anchor-id="question-geocoding-quality-assessment">Question: Geocoding Quality Assessment</h2>
<p><strong>Reflect on the geocoding process. What percentage of addresses could NOT be geocoded? How might these missing locations affect your spatial analysis?</strong></p>
<p><strong>ANSWER:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>total_incidents <span class="ot">&lt;-</span> <span class="fu">nrow</span>(homicides)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>successfully_geocoded <span class="ot">&lt;-</span> <span class="fu">nrow</span>(homicides_sf)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>failed_to_geocode <span class="ot">&lt;-</span> total_incidents <span class="sc">-</span> successfully_geocoded</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>failure_rate <span class="ot">&lt;-</span> (failed_to_geocode <span class="sc">/</span> total_incidents) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Geocoding Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Geocoding Summary:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total incidents:"</span>, total_incidents, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total incidents: 222 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Successfully geocoded:"</span>, successfully_geocoded, <span class="st">"("</span>, </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">-</span> failure_rate, <span class="dv">1</span>), <span class="st">"%)</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Successfully geocoded: 203 ( 91.4 %)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Failed to geocode:"</span>, failed_to_geocode, <span class="st">"("</span>, </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(failure_rate, <span class="dv">1</span>), <span class="st">"%)</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Failed to geocode: 19 ( 8.6 %)</code></pre>
</div>
</div>
<p><strong>Impact on spatial analysis:</strong></p>
<ol type="1">
<li><p><strong>Reduced sample size</strong>: We lost 19 cases (8.6%), reducing statistical power to detect spatial patterns.</p></li>
<li><p><strong>Potential spatial bias</strong>:</p>
<ul>
<li>If geocoding failures are randomly distributed → estimates remain unbiased but less precise</li>
<li>If failures cluster spatially → systematic bias in hot spot detection</li>
<li>Rural or newly developed areas often have lower geocoding rates</li>
</ul></li>
<li><p><strong>District-level effects</strong>:</p>
<ul>
<li>Some districts may be underrepresented if geocoding failures concentrated there</li>
<li>Rate calculations (homicides per capita) will be underestimated in affected areas</li>
</ul></li>
<li><p><strong>Cannot assess patterns in failed areas</strong>:</p>
<ul>
<li>Hot spots may exist in areas with many failures but go undetected</li>
<li>Resource allocation decisions could be biased against these areas</li>
</ul></li>
</ol>
<p><strong>NOTE:</strong> This is why the Zimmerman et al.&nbsp;(2008) paper is so important - it showed that geocoding failures ARE spatially clustered, and when disease is associated with geocoding failure (e.g., rural disease + rural geocoding failure), statistical power drops by 50-70%!</p>
<hr>
</section>
<section id="question-positional-uncertainty-from-block-level-addresses" class="level2">
<h2 class="anchored" data-anchor-id="question-positional-uncertainty-from-block-level-addresses">Question: Positional Uncertainty from Block-Level Addresses</h2>
<p><strong>The addresses in this dataset are recorded at the block level (e.g., “2800 BLOCK PROSPECT ST”). The Census geocoder places each address somewhere along the corresponding street segment, but the true incident location could be anywhere on that block — typically a 50–200 m range. Discuss how this inherent positional uncertainty could affect each of the following analyses:</strong></p>
<p><strong>a) Identifying homicide hot spots?</strong></p>
<p><strong>ANSWER:</strong> A 50–200 m positional uncertainty can: - Blur the true boundaries of spatial clusters - Move cases in or out of a detected cluster depending on where along the block they are placed - Reduce statistical power, making it harder to detect real clusters - Create spurious clusters if the geocoder systematically places block-level addresses at the same interpolation point - Be particularly problematic for small-area clusters (radius &lt; 500 m)</p>
<p><strong>b) Calculating distance to the nearest police station?</strong></p>
<p><strong>ANSWER:</strong> - The positional uncertainty translates directly into roughly the same magnitude of error in any distance calculation - An incident near the boundary of a 500 m buffer around a station could be misclassified as inside or outside that buffer - This affects accessibility analyses and response-time estimates - Areas with many block-level addresses near station boundaries are most vulnerable to this bias</p>
<p><strong>c) Determining whether a homicide occurred within a specific neighbourhood?</strong></p>
<p><strong>ANSWER:</strong> - Census tracts are typically 1–4 blocks across; a 50–200 m shift can easily cross a tract boundary - Incidents near neighbourhood borders may be assigned to the wrong administrative unit - This biases rate calculations for the affected neighbourhoods - Small neighbourhoods and narrow boundary zones are at highest risk of misclassification</p>
<p><strong>NOTE:</strong> Connect this to the Olson et al.&nbsp;(2006) paper — they showed that aggregating to census tract centroids (which introduces comparable positional error) reduced cluster-detection power by 20–30%. Also relevant: Jacquez (2012) documents mean positional errors of 58–614 m across different geocoding settings.</p>
<hr>
</section>
<section id="question-spatial-patterns" class="level2">
<h2 class="anchored" data-anchor-id="question-spatial-patterns">Question: Spatial Patterns</h2>
<p><strong>Based on your maps and analyses, describe the spatial distribution of homicides in Philadelphia. Are they concentrated in certain areas or evenly distributed?</strong></p>
<p><strong>ANSWER:</strong></p>
<p>Homicides in Philadelphia 2025 show <strong>strong spatial concentration</strong>:</p>
<ol type="1">
<li><strong>Geographic concentration</strong>:
<ul>
<li>Top 3 districts account for 35.5% of all homicides</li>
<li>Clear visual clustering in North and West Philadelphia</li>
<li>Some areas have virtually no homicides</li>
</ul></li>
<li><strong>Spatial heterogeneity</strong>:
<ul>
<li>Not all areas within high-burden districts equally affected</li>
<li>Micro-level clustering within districts visible on interactive maps</li>
<li>Some street segments/blocks have multiple incidents</li>
</ul></li>
<li><strong>Possible explanations</strong> (would require additional data to confirm):
<ul>
<li>Correlation with socioeconomic disadvantage</li>
<li>Historical patterns of segregation and disinvestment</li>
<li>Population density variations</li>
<li>Drug market locations</li>
<li>Gang territory boundaries</li>
</ul></li>
<li><strong>Statistical confirmation needed</strong>:
<ul>
<li>Visual patterns should be tested with Moran's I or spatial scan statistics</li>
<li>Need to account for population at risk (denominators)</li>
<li>Consider other spatial risk factors</li>
</ul></li>
</ol>
<p><strong>NOTE:</strong> This provides teachable moment about: - Ecological fallacy (area-level patterns ≠ individual risk) - Need for appropriate denominators (incidents per capita, not just counts) - Importance of theory in interpreting spatial patterns - Ethics of mapping stigmatizing outcomes</p>
<hr>
</section>
<section id="question-temporal-patterns" class="level2">
<h2 class="anchored" data-anchor-id="question-temporal-patterns">Question: Temporal Patterns</h2>
<p><strong>Describe any temporal patterns you observed (time of day, day of week, monthly trends). How might these patterns inform public safety strategies?</strong></p>
<p><strong>ANSWER:</strong></p>
<p><strong>Key temporal patterns:</strong></p>
<ol type="1">
<li><strong>Time of day</strong>: 36.5% of homicides occur during Evening (6pm-12am)
<ul>
<li>Suggests role of nighttime economy, alcohol, reduced guardianship</li>
</ul></li>
<li><strong>Day of week</strong>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">exists</span>(<span class="st">"weekend_avg"</span>) <span class="sc">&amp;&amp;</span> weekend_avg <span class="sc">&gt;</span> weekday_avg) {</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"   - Weekend elevation ("</span>, <span class="fu">round</span>(weekend_avg, <span class="dv">1</span>), <span class="st">" vs "</span>, </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(weekday_avg, <span class="dv">1</span>), <span class="st">" on weekdays)</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"   - Peak on "</span>, homicides_dow<span class="sc">$</span>day_of_week[<span class="fu">which.max</span>(homicides_dow<span class="sc">$</span>n)], </span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ("</span>, <span class="fu">max</span>(homicides_dow<span class="sc">$</span>n), <span class="st">" homicides)</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li><strong>Seasonal pattern</strong>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">exists</span>(<span class="st">"summer_avg"</span>) <span class="sc">&amp;&amp;</span> summer_avg <span class="sc">&gt;</span> winter_avg) {</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"   - Summer months show "</span>, <span class="fu">round</span>(summer_avg<span class="sc">/</span>winter_avg, <span class="dv">1</span>), </span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">"× more homicides than winter</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Implications for public safety strategies:</strong></p>
<ol type="1">
<li><strong>Temporal resource allocation</strong>:
<ul>
<li>Concentrate patrols during high-risk hours (Evening (6pm-12am))</li>
<li>Increase weekend staffing</li>
<li>Seasonal surge capacity for summer months</li>
</ul></li>
<li><strong>Place-based interventions</strong>:
<ul>
<li>Target nightlife districts during peak hours</li>
<li>Hot spot policing in specific locations at specific times</li>
<li>“Pulling levers” strategies focused on high-risk times</li>
</ul></li>
<li><strong>Prevention programs</strong>:
<ul>
<li>Violence interruption programs active during high-risk hours</li>
<li>Community events to provide alternative activities</li>
<li>Cooling centers in summer (if heat-violence link confirmed)</li>
</ul></li>
<li><strong>Data-driven scheduling</strong>:
<ul>
<li>Shift schedules based on temporal patterns</li>
<li>Predictive policing (with appropriate safeguards)</li>
<li>Real-time resource deployment</li>
</ul></li>
</ol>
<p><strong>NOTE:</strong> Emphasize: - Temporal patterns provide actionable intelligence - But must be combined with spatial patterns (spatiotemporal analysis) - Ethical concerns about over-policing - Need for root cause approaches, not just enforcement</p>
<hr>
</section>
<section id="question-data-quality-and-ethics" class="level2">
<h2 class="anchored" data-anchor-id="question-data-quality-and-ethics">Question: Data Quality and Ethics</h2>
<p><strong>This exercise used real homicide data. Discuss:</strong></p>
<p><strong>a) What ethical considerations should researchers keep in mind when working with crime victim location data?</strong></p>
<p><strong>ANSWER:</strong></p>
<ol type="1">
<li><strong>Respect for victims and families</strong>:
<ul>
<li>Each data point represents a person and grieving family</li>
<li>Avoid sensationalizing or exploiting tragedy</li>
<li>Consider re-traumatization risk when publishing maps</li>
</ul></li>
<li><strong>Privacy protection</strong>:
<ul>
<li>Even with block-level addresses, small areas might enable identification</li>
<li>Rare incidents (specific dates/locations) could be identifiable</li>
<li>Need to balance transparency with privacy</li>
</ul></li>
<li><strong>Stigmatization of communities</strong>:
<ul>
<li>Maps can reinforce negative stereotypes</li>
<li>Risk of furthering marginalization of already disadvantaged areas</li>
<li>Must present with context about structural causes</li>
</ul></li>
<li><strong>Misuse potential</strong>:
<ul>
<li>Data could be used to discriminate (housing, insurance, lending)</li>
<li>Could affect property values in mapped areas</li>
<li>Potential for vigilante or retaliatory use</li>
</ul></li>
<li><strong>Research purpose</strong>:
<ul>
<li>Must have clear public health benefit</li>
<li>Results should inform interventions that help affected communities</li>
<li>Involve community members in research process</li>
</ul></li>
</ol>
<p><strong>b) How does the block-level aggregation of addresses in this dataset provide some privacy protection?</strong></p>
<p><strong>ANSWER:</strong></p>
<p>Block-level aggregation provides privacy through <strong>geographic imprecision</strong>:</p>
<ol type="1">
<li><strong>Location ambiguity</strong>:
<ul>
<li>“2800 BLOCK PROSPECT ST” could be any address from 2800-2899</li>
<li>Typically 20-50 addresses per block</li>
<li>Exact location cannot be determined</li>
</ul></li>
<li><strong>Reduced re-identification risk</strong>:
<ul>
<li>Harder to link to specific individuals or properties</li>
<li>Multiple households in the affected area</li>
<li>Time + block combination still fairly unique, but less than exact address</li>
</ul></li>
<li><strong>HIPAA considerations</strong>:
<ul>
<li>Block-level addresses considered less identifying than exact addresses</li>
<li>Analogous to 3-digit ZIP code rule (but smaller area)</li>
</ul></li>
<li><strong>Limitations of this protection</strong>:
<ul>
<li>Some blocks have few/one address (dead ends, large properties)</li>
<li>Date + block + victim characteristics could still enable identification</li>
<li>News reports often provide exact locations anyway</li>
</ul></li>
<li><strong>Trade-off</strong>:
<ul>
<li>More privacy → less analytical precision</li>
<li>But ~50-100m positional error probably acceptable for most analyses</li>
</ul></li>
</ol>
<p><strong>c) What additional steps might be necessary before publicly releasing maps of this data?</strong></p>
<p><strong>ANSWER:</strong></p>
<p>Before public release:</p>
<ol type="1">
<li><strong>Temporal aggregation</strong>:
<ul>
<li>Don't show exact dates, use months or quarters</li>
<li>Prevents linking to news reports or obituaries</li>
<li>Reduces re-identification risk</li>
</ul></li>
<li><strong>Spatial aggregation for sparse areas</strong>:
<ul>
<li>Aggregate to larger units (neighborhoods, tracts) in low-count areas</li>
<li>Apply small cell suppression (n&lt;11 rule)</li>
<li>Use heat maps rather than point maps</li>
</ul></li>
<li><strong>Contextual information</strong>:
<ul>
<li>Include population denominators (rates, not counts)</li>
<li>Provide socioeconomic context</li>
<li>Explain structural factors (not victim-blaming)</li>
<li>Add resources for affected communities</li>
</ul></li>
<li><strong>Community engagement</strong>:
<ul>
<li>Consult with affected communities before release</li>
<li>Consider whether release helps or harms community</li>
<li>Provide advance notice to community organizations</li>
</ul></li>
<li><strong>Access controls</strong>:
<ul>
<li>Consider restricted access rather than fully public</li>
<li>Require registration for access</li>
<li>Data use agreements for researchers</li>
<li>Audit log of data access</li>
</ul></li>
<li><strong>Legal review</strong>:
<ul>
<li>Confirm compliance with IRB, HIPAA, state laws</li>
<li>Consider liability for misuse</li>
<li>Terms of use for data</li>
</ul></li>
</ol>
<p><strong>NOTE:</strong> This is a teachable moment about: - Tension between transparency and privacy - Different ethical frameworks (utilitarian, rights-based, virtue ethics) - Researcher responsibility extends beyond IRB approval - Community-based participatory research principles - The “double-edged sword” of crime mapping</p>
<hr>
</section>
</section>
<section id="part-6-your-own-dataset" class="level1">
<h1>Part 6: Your Own Dataset</h1>
<p>Now that you have worked through the full workflow — loading, geocoding, assessing match rates, mapping, and reflecting on accuracy and ethics — repeat the exercise on a dataset <strong>you find yourself</strong>.</p>
<section id="choose-a-dataset" class="level2">
<h2 class="anchored" data-anchor-id="choose-a-dataset">6.1 Choose a Dataset</h2>
<p>Find a publicly available dataset that contains <strong>address-level location information</strong> that you can geocode. Good sources include:</p>
<ul>
<li>City open-data portals (e.g.&nbsp;Philadelphia OpenData, NYC Open Data, Chicago Data Portal)</li>
<li>FBI Uniform Crime Reporting (UCR) downloads</li>
<li>CDC / state health-department disease-surveillance files</li>
<li>EPA enforcement or facility-location records</li>
<li>Any other source that interests you and contains US addresses</li>
</ul>
<p><strong>Requirements:</strong> - At least 50 geocodable addresses - Addresses should be in a single metropolitan area (keeps the maps readable) - The dataset should have at least one categorical or temporal variable you can use to colour or layer a map</p>
<p><strong>Question:</strong> Describe your dataset. What is the source? How many records does it contain? What variables are available? Why did you choose it?</p>
<hr>
</section>
<section id="geocode-with-the-census-bureau" class="level2">
<h2 class="anchored" data-anchor-id="geocode-with-the-census-bureau">6.2 Geocode with the Census Bureau</h2>
<p>Adapt the code from Part 2 to geocode your new dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- TEMPLATE — adapt column names to your data ---</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>your_data_geocoded <span class="ot">&lt;-</span> your_data <span class="sc">%&gt;%</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_address =</span> <span class="fu">paste</span>(ADDRESS_COLUMN, <span class="st">"CITY, STATE"</span>)</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geocode</span>(</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">address =</span> full_address,</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">method  =</span> <span class="st">"census"</span>,</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat     =</span> latitude,</span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">long    =</span> longitude,</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose =</span> <span class="cn">TRUE</span></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Question:</strong> What is your match rate? How does it compare to the Philadelphia homicide dataset? If it differs, offer at least two plausible explanations (think about address format, geographic coverage of TIGER files, etc.).</p>
<hr>
</section>
<section id="examine-your-failed-geocodes" class="level2">
<h2 class="anchored" data-anchor-id="examine-your-failed-geocodes">6.3 Examine Your Failed Geocodes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- TEMPLATE ---</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>your_failed <span class="ot">&lt;-</span> your_data_geocoded <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(latitude))</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(your_failed, <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Question:</strong> What patterns do you see in the addresses that failed? Are the failures random, or do they cluster by neighbourhood, address type, or some other feature?</p>
<hr>
</section>
<section id="map-your-data" class="level2">
<h2 class="anchored" data-anchor-id="map-your-data">6.4 Map Your Data</h2>
<p>Create at least <strong>two</strong> maps:</p>
<ol type="1">
<li>A basic point map of all successfully geocoded records.</li>
<li>An enhanced map that uses colour or layer toggling to show variation by a categorical or temporal variable in your dataset.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- TEMPLATE: basic map ---</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>your_sf <span class="ot">&lt;-</span> your_data_geocoded <span class="sc">%&gt;%</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(latitude)) <span class="sc">%&gt;%</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude"</span>, <span class="st">"latitude"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>your_sf <span class="sc">%&gt;%</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>CartoDB.Positron) <span class="sc">%&gt;%</span></span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(<span class="at">radius =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">fillOpacity =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Question:</strong> Describe the spatial pattern you observe. Are the records clustered, or spread evenly? Which areas have the highest and lowest concentrations?</p>
<hr>
</section>
<section id="reflection" class="level2">
<h2 class="anchored" data-anchor-id="reflection">6.5 Reflection</h2>
<p><strong>Question:</strong> Compare your experience geocoding and mapping this new dataset to the Philadelphia homicide exercise. Address at least three of the following:</p>
<ul>
<li>How did your match rate compare, and why?</li>
<li>Were the spatial patterns you observed surprising? What might explain them?</li>
<li>What ethical considerations apply to your dataset? (Think about privacy, stigmatisation, potential for misuse.)</li>
<li>If you were to publish a map of your data, what additional steps would you take before doing so?</li>
<li>What limitations does positional uncertainty introduce for the specific analyses one might do with your dataset?</li>
</ul>
<p><strong>NOTE:</strong> Part 6 is intentionally open-ended. The goal is transfer — students must adapt code, make judgment calls about address formatting, and think critically about a new context. Encourage students to discuss their choices in class. Good datasets for discussion include ones where match rates are unexpectedly low (rural addresses, non-US geocoding) or where the spatial pattern raises ethical questions.</p>
<hr>
</section>
</section>
<section id="summary-and-deliverables" class="level1">
<h1>Summary and Deliverables</h1>
<section id="key-learning-points" class="level2">
<h2 class="anchored" data-anchor-id="key-learning-points">Key Learning Points</h2>
<p>Students should now understand:</p>
<ol type="1">
<li><p>✅ <strong>Geocoding is imperfect</strong>: Match rates of 91.4% mean 8.6% of cases lost</p></li>
<li><p>✅ <strong>Positional uncertainty exists</strong>: Block-level addresses introduce 50–200 m of inherent positional imprecision even when geocoding “succeeds”</p></li>
<li><p>✅ <strong>Spatial patterns are clear</strong>: Homicides strongly clustered in specific areas</p></li>
<li><p>✅ <strong>Temporal patterns matter</strong>: Time of day, day of week, and season all show variation</p></li>
<li><p>✅ <strong>Ethics are paramount</strong>: Real data about real victims requires responsible handling</p></li>
<li><p>✅ <strong>Transfer works</strong>: Adapting the workflow to a new dataset reveals how context-dependent geocoding and mapping decisions really are</p></li>
</ol>
</section>
<section id="files-created" class="level2">
<h2 class="anchored" data-anchor-id="files-created">Files Created</h2>
<p>This exercise generated:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>output_files <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"philadelphia_homicides_basic.html"</span>,</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"philadelphia_homicides_timeofday.html"</span>,</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"failed_geocodes_census.csv"</span>,</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"my_geocoded_homicides.csv"</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Output files:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Output files:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(f <span class="cf">in</span> output_files) {</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">file.exists</span>(f)) {</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"  ✓"</span>, f, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"  ✗"</span>, f, <span class="st">"(not found)</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ✓ philadelphia_homicides_basic.html 
  ✓ philadelphia_homicides_timeofday.html 
  ✓ failed_geocodes_census.csv 
  ✓ my_geocoded_homicides.csv </code></pre>
</div>
</div>
</section>
<section id="save-final-geocoded-dataset" class="level2">
<h2 class="anchored" data-anchor-id="save-final-geocoded-dataset">Save Final Geocoded Dataset</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save final geocoded data for future use</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>homicides_final <span class="ot">&lt;-</span> homicides_census <span class="sc">%&gt;%</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(objectid, dc_key, dispatch_date, hour, location_block, dc_dist,</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>         ucr_general, text_general_code, latitude, longitude)</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(homicides_final, <span class="st">"my_geocoded_homicides.csv"</span>)</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Final geocoded dataset saved to: my_geocoded_homicides.csv</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Final geocoded dataset saved to: my_geocoded_homicides.csv</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Records:"</span>, <span class="fu">nrow</span>(homicides_final), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Records: 222 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"With valid coordinates:"</span>, <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(homicides_final<span class="sc">$</span>latitude)), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>With valid coordinates: 203 </code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="further-analysis-ideas" class="level1">
<h1>Further Analysis Ideas</h1>
<p>For students who finish early:</p>
<section id="kernel-density-estimation" class="level2">
<h2 class="anchored" data-anchor-id="kernel-density-estimation">1. Kernel Density Estimation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(spatstat)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to ppp object for spatstat</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>homicides_ppp <span class="ot">&lt;-</span> <span class="fu">as.ppp</span>(<span class="fu">st_coordinates</span>(homicides_sf), </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">W =</span> <span class="fu">as.owin</span>(<span class="fu">st_bbox</span>(homicides_sf)))</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate kernel density</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>density_map <span class="ot">&lt;-</span> <span class="fu">density</span>(homicides_ppp, <span class="at">sigma =</span> <span class="fl">0.01</span>)</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(density_map, <span class="at">main =</span> <span class="st">"Homicide Density Heat Map"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="spatial-autocorrelation-test" class="level2">
<h2 class="anchored" data-anchor-id="spatial-autocorrelation-test">2. Spatial Autocorrelation Test</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(spdep)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Would need to aggregate to areas (census tracts) first</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate Moran\'s I to test for clustering</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distance-to-facilities" class="level2">
<h2 class="anchored" data-anchor-id="distance-to-facilities">3. Distance to Facilities</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If you had police station locations:</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate distance from each homicide to nearest station</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyze if distance affects response time or case clearance</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="temporal-animation" class="level2">
<h2 class="anchored" data-anchor-id="temporal-animation">4. Temporal Animation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create animated map showing homicides accumulating over the year</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Requires additional packages like gganimate or leaflet.extras</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p>Key papers relevant to this exercise:</p>
<ol type="1">
<li><strong>Jacquez, G.M. (2012).</strong> “A research agenda: does geocoding positional error matter in health GIS studies?” <em>Spatial and Spatio-temporal Epidemiology</em>, 3(1), 7-16.
<ul>
<li>Mean positional errors: 58-614m depending on setting</li>
<li>Nearest neighbor misidentification increases with error and density</li>
</ul></li>
<li><strong>Zimmerman, D.L. &amp; Lahiri, S. (2008).</strong> “On estimating the statistical power of disease cluster detection tests in case-control studies.” <em>Statistics in Medicine</em>, 27(26), 5500-5520.
<ul>
<li>Geocoding failures are spatially clustered (p &lt; 0.001)</li>
<li>Power loss of 50-70% when disease associated with geocoding failure</li>
</ul></li>
<li><strong>Olson, K.L. et al.&nbsp;(2006).</strong> “Effect of geocoding on accuracy of cluster detection in disease surveillance.” <em>Advances in Disease Surveillance</em>, 1(1), 1-11.
<ul>
<li>Aggregating to census tract centroids reduces detection power 20-30%</li>
<li>Boundary crossing effect most severe</li>
</ul></li>
<li><strong>Goldberg, D.W. (2008).</strong> “A Geocoding Best Practices Guide.** University of Southern California GIS Research Laboratory.
<ul>
<li>Comprehensive guide to geocoding methodology</li>
<li>Best practices for accuracy assessment</li>
</ul></li>
<li><strong>Armstrong, M.P. et al.&nbsp;(1999).</strong> “Geographically masking health data to preserve confidentiality.” <em>Statistics in Medicine</em>, 18, 497-525.
<ul>
<li>Methods for geographic privacy protection</li>
<li>Trade-offs between privacy and analytical utility</li>
</ul></li>
</ol>
<hr>
</section>
<section id="session-information" class="level1">
<h1>Session Information</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-apple-darwin20 (64-bit)
Running under: macOS 15.6

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: America/New_York
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] knitr_1.44              htmlwidgets_1.6.4       leaflet_2.2.2          
 [4] sf_1.0-18               tidygeocoder_1.0.5.9000 lubridate_1.9.3        
 [7] forcats_1.0.0           stringr_1.5.0           dplyr_1.1.4            
[10] purrr_1.0.2             readr_2.1.4             tidyr_1.3.0            
[13] tibble_3.2.1            ggplot2_3.5.2           tidyverse_2.0.0        

loaded via a namespace (and not attached):
 [1] gtable_0.3.6            xfun_0.52               tzdb_0.4.0             
 [4] leaflet.providers_2.0.0 vctrs_0.6.5             tools_4.3.1            
 [7] crosstalk_1.2.0         generics_0.1.3          curl_5.1.0             
[10] parallel_4.3.1          proxy_0.4-27            fansi_1.0.6            
[13] pkgconfig_2.0.3         KernSmooth_2.23-21      RColorBrewer_1.1-3     
[16] lifecycle_1.0.4         compiler_4.3.1          farver_2.1.2           
[19] munsell_0.5.1           htmltools_0.5.8.1       class_7.3-22           
[22] yaml_2.3.7              jquerylib_0.1.4         pillar_1.9.0           
[25] crayon_1.5.2            classInt_0.4-10         mime_0.12              
[28] tidyselect_1.2.1        digest_0.6.33           stringi_1.7.12         
[31] labeling_0.4.3          fastmap_1.1.1           grid_4.3.1             
[34] colorspace_2.1-0        cli_3.6.3               magrittr_2.0.3         
[37] utf8_1.2.4              e1071_1.7-16            withr_3.0.2            
[40] scales_1.3.0            bit64_4.0.5             timechange_0.2.0       
[43] rmarkdown_2.25          httr_1.4.7              bit_4.0.5              
[46] hms_1.1.3               evaluate_0.22           rlang_1.1.4            
[49] Rcpp_1.0.11             glue_1.8.0              DBI_1.1.3              
[52] rstudioapi_0.15.0       vroom_1.6.4             jsonlite_1.8.7         
[55] R6_2.5.1                units_0.8-4            </code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>